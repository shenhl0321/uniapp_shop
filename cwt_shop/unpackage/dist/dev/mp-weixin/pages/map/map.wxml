<view><custom-navi vue-id="5b0d33c6-1" naviData="{{naviData}}" bind:__l="__l" vue-slots="{{['default']}}">选择地址</custom-navi><view style="height:100%;"><block wx:if="{{addListShow}}"><view><view class="top"><block wx:if="{{!addListShow}}"><view data-event-opts="{{[['tap',[['back1',['$event']]]]]}}" class="back iconfont icon-fanhui" bindtap="__e"></view></block><block wx:else><view class="{{['search-box '+(addListShow?'search-box1':'')]}}"><view data-event-opts="{{[['tap',[['chooseCityFun',['$event']]]]]}}" class="region" bindtap="__e">{{currentRegion.district}}</view><view class="shu"></view><input placeholder="请输入您的或您附近的地址" data-event-opts="{{[['input',[['getsuggest',['$event']]]]]}}" bindinput="__e"/></view></block></view><view class="add-list-box"><scroll-view class="add-list" scroll-y="true"><block wx:for="{{suggestion}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="add-item"><view id="{{index}}" data-name="{{item.title}}" data-event-opts="{{[['tap',[['backfill',['$event']]]]]}}" bindtap="__e"><view class="title">{{item.title}}</view><view class="add">{{item.addr}}</view></view></view></block></scroll-view></view></view></block><block wx:if="{{!addListShow&&!chooseCity}}"><view style="height:300px;position:relative;"><map style="width:100%;height:300px;" id="myMap" longitude="{{longitude}}" latitude="{{latitude}}" scale="17" enable-zoom="{{true}}" data-event-opts="{{[['regionchange',[['mapChange',['$event']]]]]}}" bindregionchange="__e"><cover-view class="top"><cover-view class="search-box"><cover-view data-event-opts="{{[['tap',[['chooseCityFun',['$event']]]]]}}" class="region" bindtap="__e">{{currentRegion.district}}</cover-view><cover-view class="shu"></cover-view><cover-view data-event-opts="{{[['tap',[['showAddList',['$event']]]]]}}" class="placeholder" bindtap="__e">请输入您的或您附近的地址</cover-view></cover-view></cover-view><cover-view class="map-prompt">您可拖动地图, 标记当前您或您附近的位置</cover-view><cover-image class="current-site-icon" src="/static/images/icon/position.png"></cover-image><cover-view data-event-opts="{{[['tap',[['reload',['$event']]]]]}}" class="reload" bindtap="__e"><cover-view class="center1"><cover-view class="center2"></cover-view></cover-view></cover-view></map><view style="height:100%;overflow:scroll;"><view class="near-list" scroll-y="true"><block wx:for="{{nearList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="near-item"><block wx:if="{{index==selectedIndex}}"><view class="current-site"><image src="/static/images/icon/delive-dot.png" mode="aspectFit"></image></view></block><view data-event-opts="{{[['tap',[['chooseCenter',['$0',index],[[['nearList','',index]]]]]]]}}" bindtap="__e"><view class="{{['title '+(index==selectedIndex?'title1':'')]}}">{{item.title}}</view><view class="{{['add '+(index==selectedIndex?'add1':'')]}}">{{item.addr}}</view></view></view></block></view></view><view class="bottom-box"><button data-event-opts="{{[['tap',[['selectedOk',['$event']]]]]}}" bindtap="__e">确认地址</button></view></view></block><block wx:if="{{chooseCity}}"><view class="region-box"><view class="region-top"><view data-event-opts="{{[['tap',[['back2',['$event']]]]]}}" class="region-back iconfont icon-fanhui" bindtap="__e"></view><view class="title">选择城市</view></view><view class="region-tabs"><text data-event-opts="{{[['tap',[['showProvince',['$event']]]]]}}" class="tab" bindtap="__e">{{currentProvince}}</text><block wx:if="{{!regionShow.province}}"><text data-event-opts="{{[['tap',[['showCity',['$event']]]]]}}" class="tab" bindtap="__e">{{currentCity}}</text></block><block wx:if="{{regionShow.district}}"><text data-event-opts="{{[['tap',[['showDistrict',['$event']]]]]}}" class="tab" bindtap="__e">{{currentDistrict}}</text></block></view><scroll-view style="height:1050rpx;" scroll-y="true"><block wx:if="{{regionShow.province}}"><view class="region-list"><block wx:for="{{regionData.province}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="region-item"><view data-id="{{item.id}}" data-name="{{item.fullname}}" data-event-opts="{{[['tap',[['selectProvince',['$event']]]]]}}" bindtap="__e"><text>{{item.fullname}}</text></view></view></block></view></block><block wx:if="{{regionShow.city}}"><view class="region-list"><block wx:for="{{regionData.city}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="region-item"><view data-id="{{item.id}}" data-name="{{item.fullname}}" data-event-opts="{{[['tap',[['selectCity',['$event']]]]]}}" bindtap="__e"><text>{{item.fullname}}</text></view></view></block></view></block><block wx:if="{{regionShow.district}}"><view class="region-list"><block wx:for="{{regionData.district}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="region-item"><view data-id="{{item.id}}" data-name="{{item.fullname}}" data-latitude="{{item.location.lat}}" data-longitude="{{item.location.lng}}" data-event-opts="{{[['tap',[['selectDistrict',['$event']]]]]}}" bindtap="__e"><text>{{item.fullname}}</text></view></view></block></view></block></scroll-view></view></block></view></view>