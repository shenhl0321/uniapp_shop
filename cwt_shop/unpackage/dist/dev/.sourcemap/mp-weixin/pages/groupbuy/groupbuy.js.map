{"version":3,"sources":["uni-app:///main.js","webpack:////Users/shenhl/Desktop/外包/uniapp_shop/cwt_shop/pages/groupbuy/groupbuy.vue?7aae","webpack:////Users/shenhl/Desktop/外包/uniapp_shop/cwt_shop/pages/groupbuy/groupbuy.vue?49e6","webpack:////Users/shenhl/Desktop/外包/uniapp_shop/cwt_shop/pages/groupbuy/groupbuy.vue?94ff","webpack:////Users/shenhl/Desktop/外包/uniapp_shop/cwt_shop/pages/groupbuy/groupbuy.vue?513e","uni-app:///pages/groupbuy/groupbuy.vue","webpack:////Users/shenhl/Desktop/外包/uniapp_shop/cwt_shop/pages/groupbuy/groupbuy.vue?4092","webpack:////Users/shenhl/Desktop/外包/uniapp_shop/cwt_shop/pages/groupbuy/groupbuy.vue?164f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","title","naviData","ifGoHome","ifGoBack","current","shopCartItems","isShowLoading","isSpread","groupbuyPrice","indicatorDots","indicatorColor","indicatorActiveColor","autoplay","interval","duration","style","color","backgroundColor","prodsList","couponPopAnimation","showBasketIcon","showBasket","showCoupons","evalatImage","bgBanner","imagePath","maskHidden","shopId","undefined","pages","records","groupbuyInfoList","components","customNavi","props","computed","shopInfo","totalProdCount","onLoad","uni","success","url","console","prodId","tjr","onShow","phoneNumber","onShareAppMessage","path","methods","getProdInfo","imgs","content","price","prodName","brief","skuId","pic","posterImg","saleMonth","rebateMoney","activityOrderFlag","activityTimesFlag","activityPrice","getProdCommData","getLittleProdComm","getMoreCommPage","getProdCommPage","prodCommPage","evaluate","size","res","item","getGroupbuyInfo","phone","isGroupPeople","getUserName","userName","extensionWorker","handleLogoLoadError","getShareTjr","formSubmit","icon","that","setTimeout","createNewImg","context","ctx","fontSize","word","maxWidth","x","y","maxLine","canvasId","fail","dealWords","options","rowWid","endPos","baocun","filePath","showCancel","confirmText","confirmColor","qrcode_image","src","toHomePage","toCartPage","addToCart","basketId","count","onCountMinus","prodNum","onCountPlus","showPopup","couponList","couponIds","couponLimit","coupon","popupShow","loadCouponIds","showSku","skuShow","showComment","commentShow","closePopup","showBasketFun","timingFunction","basketAnimation","closeOrders","detectIfShowBasketIcon","prodCount","getWxCode","save","encoding","self","qrcodePath","getBasketInfo","onBasketCountMinus","onBasketCountPlus","onCurrentProdPlus","onCurrentProdMinus","updateCount","mask","onDelBasket","basketIds","calTotalPrice","shopCartIds","finalMoney","totalMoney","subtractMoney","startPrice","changeShowBuynowPop","showBuynowPop","showCouponPop","closeCouponPop","enterShop","getShopProdsInfo","openBasketPop","hideBasket","getPhoneNumber","encryptedData","iv","toFirmOrder","getCouponList","handleReceive","state","enterProdFromGuess","goback","delta","gohome","buyNow","purchaseType","goGroupbuySybmit","closeImage","gosubmit","loadInvitedGroupInfo","ptglid","groupInvitedInfo","ktTime","leftSecond","setInterval","second","minute","hour","leftTime"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAq1B,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC6hBz2B;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAIA;EACAC;IAAA;IACA;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IAAA,mDACA,wDACA,yDACA,mDACA,iDACA,qDACA,kDACA,mDACA,mDACA,iDACA,kDACA,qDACA,6DAEA,uDACA,2DACA,0DACA,qDAEA,oDACA,yDACAC,gEACA,4DACA,qDACA,0DACA,yDACA,yDACA;MACAxB;MACAyB;MACAC;IACA,0DACA,qDACA,gDACA,uDAEA,sDACA,qDAEA,wDACA,yDACA,4DACA,uDAEA,4DACA,wDACA,0DACA,wDACA,6DACAC,0EACA,oDACA,sDACA,8DACA,8DACA,0DACA,oDACA,4DACA,wDACA,uDACA,uDACA,0DACA,uDACA,6DACA,uDACA,qDACA,+DACA;EAEA;EAEAC;IACAC;EACA;EACAC;EAEAC;IACAC;MACA;IACA;IAEAC;MACA;MACA;QACA;MACA;MACA;IACA;EAEA;EAEA;AACA;AACA;EACAC;IAEAC;MACAC;QACA;UACAD;YACAE;UACA;QACA;MACA;IACA;IAEA;IACAC;IACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;MACA;QACAC;QACAhB;QACAiB;MACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EAEA;AACA;AACA;EACAC;IACA;IACA;MACAC;IACA;IACA;IAEA;IAEA;IACA;IACA;IACA;EACA;EAEA;AACA;AACA;EACAC;IACA;MACA/C;MACAgD;IACA;EACA;EACAC;IACA;IACAC;MAAA;MACA;QACAP;MACA;QACA;QACA;QACA;QACA;QACA;UACAQ;UACAC;UACAC;UACAC;UACAX;UACAY;UACAC;UACA;UACAC;UACAC;UACAC;UACAC;UACArD;UACAsD;UACAC;UACAC;QACA;MACA;IACA;IACAC;MAAA;MACA;QACArB;MACA;QACA;MACA;IACA;IAEA;IACAsB;MACA;QACA;MACA;MACA;IACA;IAEAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACA;QACA;QACA;UACAC;YACAhE;YACAyB;YACAC;UACA;UACAuC;QACA;MACA;MACA;QACA1B;QACA2B;QACAlE;QACAiE;MACA;QACAE;UACA;YACAC;UACA;QACA;QACA;QACA1C;QACA;UACAsC;YACAhE;YACAyB;YACAC;UACA;QACA;QACA;UACA;QACA;MACA;IACA;IAEA2C;MAAA;MACA;QACA9B;MACA;QACA;QACA;UACA;UACA;YACA+B;UACA;YACAA;UACA;UACAF;UACA;QACA;QACA;UACAzC;UACAvB;UACAmE;QACA;MACA;IACA;IAEAC;MAAA;MACA;QACA;UACAC;UACAC;QACA;MACA;QACApC;MACA;IACA;IAEA;IACAqC;MACA;MACA3C;MACA;QACAA;MACA;IACA;IAEA4C;MAAA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA1C;QACAvC;QACAkF;QACApE;MACA;MACAqE;MACAC;QACA;QACA;QACAD;UACAzD;QACA;MACA;IACA;IACA2D;MACA;MACA;MACAC;MACAA;MACAA;MACAA;MACA;MACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACAA;MACAA;MACAA;MACAA;MACAH;QACAI;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;MAEA;;MACAP;MACAA;MACA;MACAA;MACAA;MACAA;MACAA;MACAH;QACAI;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;MAEA;;MACAP;MACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEAA;MACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEAA;MACA;MACA;MACA;MACA;;MAEAA;MACA;;MAEAA;;MAEAA;;MAEAA;MACAA;MACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEAA;MACAA;MACAA;;MAEAA;MACA;;MAEAF;QACA7C;UACAuD;UACAtD;YACA;YACA2C;cACA1D;YACA;UACA;UACAsE;QACA;MACA;IACA;IAEA;IACAC;MACAC;;MAEA;;MAEA;;MAEA;;MAEA;QACA;;QAEA;;QAEA;UACA;UACA;YACAC;;YAEA;cACA;gBACA;gBACAD,sFACA;cACA;gBACAA;cACA;cAEAE;;cAEA;YACA;UACA;QACA;UACA;UACAF;QACA;MACA;IACA;IAEA;IACAG;MACA;MACA7D;QACA8D;QACA7D;UACAD;YACAa;YACAkD;YACAC;YACAC;YACAhE;cACA;gBACA;gBACA2C;kBACAzD;gBACA;cACA;YACA;YACAqE;UACA;QACA;MACA;IACA;IACAU;MACA;MACAlE;QACAmE;QAEAlE;UACA2C;YACA5D;UACA;QACA;MAEA;MACA6D;QACA7C;UACAmE;UAEAlE;YACA2C;cACA3D;YACA;UACA;QAEA;MACA;IACA;IAEA;AACA;AACA;IACAmF;MACApE;QACAE;MACA;IACA;IAEA;AACA;AACA;IACAmE;MACArE;QACAE;MACA;IACA;IAEA;AACA;AACA;IACAoE;MAAA;MACA;QACAC;QACAC;QACApE;QACAhB;QACA6B;QACAK;QACAC;MACA;QACA;UACA;UACA;YACAvB;YACA;UACA;QACA;UACAA;YACAvC;YACAkF;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACA8B;MACA;MAEA;QACA;UACAC;QACA;MACA;IACA;IAEA;AACA;AACA;IACAC;MACA;MAEA;QACA;UACAD;QACA;MACA;IACA;IACAE;MAAA;MACA;QACA;QACA;MACA;MACA;QACA;QACAC;UACA;YACA;YACA;YACAC;cACA;gBACAC;cACA;YACA;YACA;cACAC;YACA;cACAA;YACA;UACA;YACAA;UACA;QACA;QACA;UACAH;UACAI;UACAC;QACA;MACA;IACA;IACAC;MACA;QACAC;MACA;IACA;IACAC;MACA;QACAC;MACA;IACA;IACAC;MACA;QACAN;QACAG;QACAE;MACA;IACA;IACAE;MAAA;MACA;QACAjH;QACAkH;MACA;MACA;MACA;QACAR;QACAS;MACA;MACA7C;QACA;UACA6C;QACA;MACA;IACA;IACAC;MAAA;MACA;QACApH;QACAkH;MACA;MACA;QACAC;MACA;MACA7C;QACA;UACAoC;QACA;MACA;IACA;IAEAW;MACA;QACA;QAEA;UACA;YACA/G;YACAgH;UACA;UACA;QACA;MACA;IACA;IAEAC;MACA;MACA;QACA1F;QACAhB;MACA;QACA;QACA;QAEA;QAEA2G;UACAjC;UACAtG;UACAwI;UACA/F;YACAgG;cACAC;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACA;UACA;UACA;YACArI;UACA;UACA;UACA;QACA;UACA;YACAA;UACA;QACA;MACA;QACAqC;MACA;IACA;IAEA;AACA;AACA;IACAiG;MACA;MACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;UACA;UACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;UACA;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAC;MAAA;MACA;QACAxG;UACAyG;QACA;QACA;MACA;MACA;QACAjC;QACApE;QACAa;QACAM;QACAD;QACAlC;MACA;QACA;UACAtB;UACA;YACA;cACA;cACA;YACA;YACAA;YACA;UACA;YACA;cACA;YACA;YACA;UACA;UACA;UACA;YACAkC;YACA;UACA;QACA;UACAA;YACAvC;YACAkF;UACA;UACA;QACA;MACA;QACAxC;MACA;IACA;IAEA;AACA;AACA;IACAuG;MACA;MACA;MACA;MACA;QACAC;MACA;MACA3G;QACAvC;QACAoD;QACAoD;QACAhE;UACA;YACA;cACAD;cACAiG;YACA;YACAA;cACA;gBACAjG;gBACAiG;cACA;cAEAA;cACAA;cACAA;gBACAJ;gBACAhH;cACA;YACA;cACAsB;YACA;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAyG;MAAA;MACA;MACA;MACA;QACAC;MACA;MACA;QACA;UACAC;UACAC;UACAC;UACAC;QACA;MACA;QACA9G;MACA;IACA;IAEA+G;MACA;QACA;QACA;MACA;MACA;QACAC;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA7I;QACAkH;MACA;MACA;QACA7G;MACA;MACAiE;QACA;UACA9D;UACAH;QACA;MACA;IACA;IACAyI;MAAA;MACA;QACA9I;QACAkH;MACA;MACA;QACA7G;MACA;MACAiE;QACA;UACA9D;QACA;MACA;IACA;IACA;IACAuI;MACAtH;QACAE;MACA;IACA;IACA;IACAqH;MAAA;MAAA;MACA;QACA;QACA;MACA;QACApH;MACA;IACA;IACA;IACAqH;MAAA;MACA;QACA;UACAjJ;UACAkH;QACA;QACA;QACA;UACAR;UACAS;QACA;QACA7C;UACA;YACA6C;UACA;QACA;MACA;QACA;MACA;IACA;IACA;IACA+B;MAAA;MACA;QACAlJ;QACAkH;MACA;MACA;QACAC;MACA;MACA7C;QACA;UACAoC;QACA;MACA;IACA;IAEA;AACA;AACA;IACAyC;MACAvH;MACA;MACA;MACA;QACA;UACA;UACA;UACA;YACAwH;YACAC;UACA;YACA;cACA5H;YACA;UACA;YACAG;UACA;QACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACA0H;MACA;QACA;MACA;MAEA;MACA;MACA/J;QACA6I;MACA;MAEA;QACA3G;UACAvC;UACAkF;QACA;QACA;MACA;MAEA3C;MACAA;QACAE;MACA;IACA;IACA;IACA4H;MAAA;MACA;QACA1H;QACAhB;MACA;QACA;UACAyF;UACAA;QACA;QACA;MACA;QACA1E;MACA;IACA;IAEA;IACA4H;MAAA;MACA;MACA;QACA,iFACA/C;UACAgD;UACA5I;QAAA,GACA;UACA;YACA;UACA;YACA;UACA;QACA;UACAe;QACA;MACA;IACA;IAEA8H;MACA;MACA;QACAjI;UACAE;QACA;MACA;IACA;IACA;IACAgI;MACAlI;QACAmI;MACA;IACA;IACAC;MACApI;QACAE;MACA;IACA;IACAmI;MACA;QACA;QACA;MACA;MACA;MACAlI;MAEA;QACAH;UACAvC;UACAkF;UACApE;QACA;QACA;MACA;MAEAyB;QACAI;QACAW;QACA8E;QACA5H;QACAiD;QACA9B;QACA6B;QACAqH;MACA;MACA;IACA;IAEAC;MACA;MACA;MACA;MAEA;QACArI;MACA;QACAA;MACA;MAEAC;MACAH;QACAE;MACA;IACA;IAEAsI;MACA;QACArJ;MACA;IACA;IAEAsJ;MACA;QACAzI;UACA2C;UACAlF;QACA;QACA;MACA;MAEAuC;QACAI;QACAW;QACA8E;QACA5H;QACAiD;QACA9B;QACA6B;QACAqH;MACA;MACAtI;QACAE;MACA;IACA;IAEAwI;MAAA;MACA;QACAC;MACA;QACA;UACAC;QACA;QACA;QACA,uFACAC;QACA1I;QACA;UACA2I;QACA;QACAC;UACA;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACA/I;UACAA;UACA;YACAgJ;YACAL;UACA;QACA;MACA;QACA3I;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACpyDA;AAAA;AAAA;AAAA;AAAwsC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACA5tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/groupbuy/groupbuy.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-stat.es.js';\nimport Vue from 'vue'\nimport Page from './pages/groupbuy/groupbuy.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./groupbuy.vue?vue&type=template&id=ddbddb34&\"\nvar renderjs\nimport script from \"./groupbuy.vue?vue&type=script&lang=js&\"\nexport * from \"./groupbuy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./groupbuy.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/groupbuy/groupbuy.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./groupbuy.vue?vue&type=template&id=ddbddb34&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.activityPrice ? _vm.wxs.parsePrice(_vm.activityPrice) : null\n  var g1 = _vm.activityPrice ? _vm.wxs.parsePrice(_vm.activityPrice) : null\n  var g2 = !_vm.activityPrice ? _vm.wxs.parsePrice(_vm.groupbuyPrice) : null\n  var g3 = !_vm.activityPrice ? _vm.wxs.parsePrice(_vm.groupbuyPrice) : null\n  var g4 = _vm.couponList.length\n  var g5 = _vm.groupbuyInfoList.length\n  var l0 = _vm.__map(_vm.littleCommPage, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g6 = item.pics.length\n    return {\n      $orig: $orig,\n      g6: g6,\n    }\n  })\n  var g7 = _vm.prodCommPage.records.length\n  var l1 = _vm.popupShow\n    ? _vm.__map(_vm.shopCartItems, function (prod, index) {\n        var $orig = _vm.__get_orig(prod)\n        var g8 = !prod.activityPrice ? _vm.wxs.parsePrice(prod.price) : null\n        var g9 = !prod.activityPrice ? _vm.wxs.parsePrice(prod.price) : null\n        return {\n          $orig: $orig,\n          g8: g8,\n          g9: g9,\n        }\n      })\n    : null\n  var l2 = _vm.commentShow\n    ? _vm.__map(_vm.prodCommPage.records, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var g10 = item.pics.length\n        return {\n          $orig: $orig,\n          g10: g10,\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        l0: l0,\n        g7: g7,\n        l1: l1,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./groupbuy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./groupbuy.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!--pages/newProdDetail/newProdDetail.wxml-->\r\n\t\t<customNavi :naviData='naviData'>产品详情</customNavi>\r\n\r\n\t\t<!-- <view class=\"navibtn\">\r\n  <image class=\"goback navibtn-item\" src=\"../../images/icon/goback.png\" mode=\"aspectFit\" bindtap=\"goback\"></image>\r\n  <image class=\"gohome navibtn-item\" src=\"../../images/icon/gohome.png\" mode=\"aspectFit\" bindtap=\"gohome\"></image>\r\n</view> -->\r\n\r\n\t\t<swiper :indicator-dots=\"indicatorDots\" :autoplay=\"autoplay\" :indicator-color=\"indicatorColor\"\r\n\t\t\t:interval=\"interval\" :duration=\"duration\" :indicator-active-color=\"indicatorActiveColor\" circular=\"true\">\r\n\t\t\t<swiper-item v-for=\"(item, index) in imgs\" :key=\"index\">\r\n\t\t\t\t<image :src=\"item\"></image>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t\t<view v-if=\"isSpread&&extensionWorker==0\" @tap=\"formSubmit\" class=\"getposter\">\r\n\t\t\t<image src=\"/static/images/icon/share02.png\" mode=\"widthFix\"></image>\r\n\t\t\t<text>分享得返利</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"imagePathBox\" :hidden=\"maskHidden == false\">\r\n\t\t\t<view :hidden=\"maskHidden == false\" class=\"mask\" @tap=\"closeImage\"></view>\r\n\t\t\t<image :src=\"imagePath\" class=\"shengcheng\"></image>\r\n\t\t\t<button class=\"baocun\" @tap=\"baocun\">点击保存至相册,分享到朋友圈</button>\r\n\t\t</view>\r\n\t\t<view class=\"canvas-box\">\r\n\t\t\t<canvas style=\"width:375px;height:670px;position:fixed;top:9999px\" canvas-id=\"mycanvas\"></canvas>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"main-prodinfo\">\r\n\t\t\t<view class=\"main-prodname\">\r\n\t\t\t\t<text>{{prodName}}</text>\r\n\t\t\t\t<!-- <text>180克/袋</text> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"monthsale-price-basket\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"monthsale\">月销：{{saleMonth+20}}</view>\r\n\t\t\t\t\t<view class=\"price\" v-if=\"activityPrice\">\r\n\t\t\t\t\t\t<text>活动价￥</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\tclass=\"bignum\">{{wxs.parsePrice(activityPrice)[0]}}.{{wxs.parsePrice(activityPrice)[1]}}</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\tstyle=\"color:#999;text-decoration:line-through;margin-left:10rpx\">原价￥{{defaultSku.price}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price\" v-if=\"!activityPrice\">\r\n\t\t\t\t\t\t<text>￥</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\tclass=\"bignum\">{{wxs.parsePrice(groupbuyPrice)[0]}}.{{wxs.parsePrice(groupbuyPrice)[1]}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"basketicon\" hidden=\"{{!showBasketIcon}}\" bindtap=\"addToCart\">\r\n\t\t\t\t\t<image  src=\"../../images/icon/basket02.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view class=\"buygroup\" @tap=\"buyNow\" data-submitType=\"launch\">\r\n\t\t\t\t\t<view class=\"buy-info\">2人成团</view>\r\n\t\t\t\t\t<view class=\"go-buy\">去开团</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"couponList.length>0\" class=\"couponbar\" @tap=\"showCouponPop\">\r\n\t\t\t\t<view class=\"coupons\">\r\n\t\t\t\t\t<block v-for=\"(item, index) in couponList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"coupon\">\r\n\t\t\t\t\t\t\t<view class=\"couponbody\">单品{{item.fullAmountReduce}}元</view>\r\n\t\t\t\t\t\t\t<view class=\"couponfooter\">领</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"getcoupon-btn\">\r\n\t\t\t\t\t<text>领券</text>\r\n\t\t\t\t\t<image src=\"/static/images/icon/more01.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"separation\"></view>\r\n\r\n\t\t<view class=\"buygroup-info\">\r\n\t\t\t<view class=\"info-title\">\r\n\t\t\t\t<image src=\"/static/images/icon/group.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<view>2人拼，开团后成功邀请一人即可成团</view>\r\n\t\t\t\t<view>{{groupbuyInfoList.length + 28}}人已拼</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"invite-box\" v-if=\"enterType == 'invite'\">\r\n\t\t\t\t<view class=\"head-photo\">\r\n\t\t\t\t\t<image :src=\"groupInvitedInfo.userList[0].pic\" mode=\"aspectFit\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nickname\">{{groupInvitedInfo.userList[0].nickName}}</view>\r\n\t\t\t\t<view class=\"invited-groupbuy-info\" v-if=\"groupInvitedInfo.ptStatus==0\">\r\n\t\t\t\t\t<view class=\"top-info\">仅差1人成团</view>\r\n\t\t\t\t\t<view class=\"bare-time\">剩余{{leftTime}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"invited-groupbuy-info\" v-if=\"groupInvitedInfo.ptStatus==1\">\r\n\t\t\t\t\t<view class=\"top-info\">该团已经拼成</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"invited-groupbuy-info\" v-if=\"groupInvitedInfo.ptStatus==2\">\r\n\t\t\t\t\t<view class=\"top-info\">该团已经失效</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"invite-to-groupbuy\" @tap=\"buyNow\" v-if=\"groupInvitedInfo.ptStatus==0\">去参团</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\r\n\t\t\t\t<view class=\"buygroup-item-content\" v-if=\"enterType !== 'invite'\">\r\n\t\t\t\t\t<swiper class=\"notice-content\" autoplay=\"true\" :interval=\"5000\" :duration=\"500\" circular=\"true\"\r\n\t\t\t\t\t\tvertical=\"true\" style=\"height: 80rpx;\" :current=\"current\">\r\n\t\t\t\t\t\t<block v-for=\"(item, index) in groupbuyInfoList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<swiper-item catchtouchmove=\"none\" catchtouchstart=\"none\">\r\n\t\t\t\t\t\t\t\t<view class=\"buygroup-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"headphoto\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"groupbuyInfoList[index].pic\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"phonenum\">\r\n\t\t\t\t\t\t\t\t\t\t{{groupbuyInfoList[index].phoneNumber}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"nickname\">\r\n\t\t\t\t\t\t\t\t\t\t{{groupbuyInfoList[index].nickName}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"success-info\">\r\n\t\t\t\t\t\t\t\t\t\t已拼团成功\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</swiper>\r\n\t\t\t\t\t<swiper class=\"notice-content\" autoplay=\"true\" :interval=\"5000\" :duration=\"500\" circular=\"true\"\r\n\t\t\t\t\t\tvertical=\"true\" style=\"height: 80rpx;\" :current=\"current+1\">\r\n\t\t\t\t\t\t<block v-for=\"(item, index) in groupbuyInfoList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<swiper-item catchtouchmove=\"none\" catchtouchstart=\"none\">\r\n\t\t\t\t\t\t\t\t<view class=\"buygroup-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"headphoto\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"groupbuyInfoList[index].pic\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"phonenum\">\r\n\t\t\t\t\t\t\t\t\t\t{{groupbuyInfoList[index].phoneNumber}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"nickname\">\r\n\t\t\t\t\t\t\t\t\t\t{{groupbuyInfoList[index].nickName}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"success-info\">\r\n\t\t\t\t\t\t\t\t\t\t已拼团成功\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</swiper>\r\n\t\t\t\t\t<swiper class=\"notice-content\" autoplay=\"true\" :interval=\"5000\" :duration=\"500\" circular=\"true\"\r\n\t\t\t\t\t\tvertical=\"true\" style=\"height: 80rpx;\" :current=\"current+2\">\r\n\t\t\t\t\t\t<block v-for=\"(item, index) in groupbuyInfoList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<swiper-item catchtouchmove=\"none\" catchtouchstart=\"none\">\r\n\t\t\t\t\t\t\t\t<view class=\"buygroup-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"headphoto\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"groupbuyInfoList[index].pic\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"phonenum\">\r\n\t\t\t\t\t\t\t\t\t\t{{groupbuyInfoList[index].phoneNumber}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"nickname\">\r\n\t\t\t\t\t\t\t\t\t\t{{groupbuyInfoList[index].nickName}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"success-info\">\r\n\t\t\t\t\t\t\t\t\t\t已拼团成功\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</swiper>\r\n\r\n\t\t\t\t\t<!-- <swiper-item>\r\n            <view class=\"buygroup-item\" wx:if=\"{{groupbuyInfoList[index+1].pic}}\">\r\n              <view class=\"headphoto\">\r\n                <image src=\"{{groupbuyInfoList[index+1].pic}}\" mode=\"aspectFit\"></image>\r\n              </view>\r\n              <view class=\"phonenum\">\r\n                {{groupbuyInfoList[index+1].phoneNumber}}\r\n              </view>\r\n              <view class=\"nickname\">\r\n                {{groupbuyInfoList[index+1].nickName}}\r\n              </view>\r\n              <view class=\"success-info\">\r\n                已拼团成功\r\n              </view>\r\n            </view>\r\n          </swiper-item>\r\n          <swiper-item>\r\n            <view class=\"buygroup-item\">\r\n              <view class=\"headphoto\">\r\n                <image src=\"{{groupbuyInfoList[index+2].pic}}\" mode=\"aspectFit\"></image>\r\n              </view>\r\n              <view class=\"phonenum\">\r\n                {{groupbuyInfoList[index+2].phoneNumber}}\r\n              </view>\r\n              <view class=\"nickname\">\r\n                {{groupbuyInfoList[index+2].nickName}}\r\n              </view>\r\n              <view class=\"success-info\">\r\n                已拼团成功\r\n              </view>\r\n            </view>\r\n          </swiper-item>       -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"separation\"></view>\r\n\r\n\t\t<view class=\"shopinfo\">\r\n\t\t\t<view class=\"shoplogo\">\r\n\t\t\t\t<image :src=\"shopInfo.shopLogo?shopInfo.shopLogo:'/static/images/icon/logo.png'\" mode=\"widthFix\"\r\n\t\t\t\t\t@error=\"handleLogoLoadError\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"shopname-attribute\">\r\n\t\t\t\t<view class=\"shopname\">{{shopInfo.shopName}}</view>\r\n\t\t\t\t<view class=\"attributes\">\r\n\t\t\t\t\t<view class=\"attribute\">\r\n\t\t\t\t\t\t<image src=\"/static/images/icon/get.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text>门店直送</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"attribute\">\r\n\t\t\t\t\t\t<image src=\"/static/images/icon/get.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text>支持自提</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"attribute\">\r\n\t\t\t\t\t\t<image src=\"/static/images/icon/get.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text>微信支付</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"entershop\" @tap=\"enterShop\">进店</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"separation\"></view>\r\n\r\n\t\t<view class=\"guesslike\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<image src=\"/static/images/icon/like.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text>猜你喜欢</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"prods\">\r\n\t\t\t\t<block v-for=\"(item, index) in prodsList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"prod\" :data-prodId=\"item.prodId\" @tap=\"enterProdFromGuess\">\r\n\t\t\t\t\t\t<view class=\"prodimage\">\r\n\t\t\t\t\t\t\t<image :src=\"item.pic\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"guessprod-info\">\r\n\t\t\t\t\t\t\t<view class=\"prodname-price\">\r\n\t\t\t\t\t\t\t\t<view class=\"guessprod-prodname\">{{item.prodName}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"guessprod-price\">￥{{item.price}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"basketicon\">\r\n\t\t\t\t\t\t\t\t<image class=\"basketimage\" src=\"/static/images/icon/basket02.png\" mode=\"widthFix\">\r\n\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"separation\"></view>\r\n\r\n\t\t<!-- 评价 -->\r\n\t\t<view class=\"cmt-wrap\">\r\n\t\t\t<view class=\"cmt-tit\" @tap=\"showComment\">\r\n\t\t\t\t<view class=\"cmt-t\">\r\n\t\t\t\t\t商品评价({{prodCommData.number}})\r\n\t\t\t\t\t<!-- <text class=\"cmt-good\">好评{{prodCommData.positiveRating}}%</text> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cmt-count\">\r\n\t\t\t\t\t<text class=\"more\">查看更多</text>\r\n\t\t\t\t\t<text class=\"cmt-more\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cmt-cont\">\r\n\t\t\t\t<view class=\"cmt-tag\" @tap=\"showComment\">\r\n\t\t\t\t\t<text>全部({{prodCommData.number}})</text>\r\n\t\t\t\t\t<text>口感好({{prodCommData.praiseNumber}})</text>\r\n\t\t\t\t\t<text>性价比高({{prodCommData.secondaryNumber}})</text>\r\n\t\t\t\t\t<text>有点甜({{prodCommData.negativeNumber}})</text>\r\n\t\t\t\t\t<text>有图({{prodCommData.picNumber}})</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cmt-items\">\r\n\t\t\t\t\t<view v-for=\"(item, index) in littleCommPage\" :key=\"index\" class=\"cmt-item\">\r\n\t\t\t\t\t\t<view class=\"cmt-user\">\r\n\t\t\t\t\t\t\t<text class=\"date\">{{item.recTime}}</text>\r\n\t\t\t\t\t\t\t<view class=\"cmt-user-info\">\r\n\t\t\t\t\t\t\t\t<image class=\"user-img\" :src=\"item.pic\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"nickname\">{{item.nickName}}</view>\r\n\t\t\t\t\t\t\t\t<van-rate readonly :value=\"item.score\" @change=\"onChange\" color=\"#f44\"></van-rate>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cmt-cnt\">{{item.content}}</view>\r\n\t\t\t\t\t\t<scroll-view class=\"cmt-attr\" scroll-x=\"true\" v-if=\"item.pics.length\">\r\n\t\t\t\t\t\t\t<image v-for=\"(commPic, index2) in item.pics\" :key=\"index2\" :src=\"commPic\"></image>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cmt-more-v\" v-if=\"prodCommPage.records.length > 2\">\r\n\t\t\t\t\t<text @tap=\"showComment\">查看全部评价</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"separation\"></view>\r\n\r\n\r\n\t\t<!-- 商品详情 -->\r\n\t\t<view class=\"details\">\r\n\t\t\t<view class=\"details-tit\">\r\n\t\t\t\t<text class=\"details-tit-item active\">商品详情</text>\r\n\t\t\t\t<!-- <text class=\"details-tit-item {{selMenu==2?'active':''}}\" data-selMenu=\"2\" bindtap=\"changeMenu\">产品参数</text> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"prod-detail\">\r\n\t\t\t\t<rich-text :nodes=\"content\"></rich-text>\r\n\t\t\t\t<!-- <image src=\"//img14.360buyimg.com/cms/jfs/t1/25195/1/9487/388554/5c7f80a5E8b8f8f0c/46818404849d6ec6.jpg!q70.dpg\" mode=\"widthFix\"></image> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"couponmodule-pop\" :hidden=\"!showCoupons\" catchtouchmove=\"none\">\r\n\t\t\t<!-- <view class=\"couponmodule-pop\" hidden=\"{{!showCoupons}}\" catchtouchmove=\"none\"> -->\r\n\t\t\t<view class=\"shadow\" @tap=\"closeCouponPop\"></view>\r\n\t\t\t<view class=\"couponbox-pop\" :animation=\"couponPopAnimation\">\r\n\t\t\t\t<view class=\"coupontit-pop\">优惠券</view>\r\n\t\t\t\t<block v-for=\"(item, index) in couponList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"coupons-pop\">\r\n\t\t\t\t\t\t<view class=\"coupon-pop\" v-if=\"item.state == 0&&item.useState==null\">\r\n\t\t\t\t\t\t\t<image src=\"http://images.51xeld.com/2020/07/cb438c51591e40eea7a528b06cb9c186.png\"\r\n\t\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t<view class=\"couponinfo-pop\">\r\n\t\t\t\t\t\t\t\t<view class=\"amount\"><text>{{item.fullAmountReduce}}</text><text>元</text></view>\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-limit\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"limt-prodname\">{{item.couponTitle}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"limt-time\">\r\n\t\t\t\t\t\t\t\t\t\t<text>有效期限：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text>{{item.showStartTime}}-{{item.showEndTime}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"getcouponbtn-pop\" :data-index=\"index\" @tap=\"handleReceive\">领取</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"coupon-pop\"\r\n\t\t\t\t\t\t\tv-if=\"(item.state == 0&&item.useState == 2) || (item.state == 0&&item.useState == 1)\">\r\n\t\t\t\t\t\t\t<image src=\"http://images.51xeld.com/2020/07/828241eb17a64600aae0a71bc5a13e23.png\"\r\n\t\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t<view class=\"couponinfo-pop\">\r\n\t\t\t\t\t\t\t\t<view class=\"amount\"><text>{{item.fullAmountReduce}}</text><text>元</text></view>\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-limit\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"limt-prodname\">{{item.prodName}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"limt-time\">\r\n\t\t\t\t\t\t\t\t\t\t<text>有效期限：</text>\r\n\t\t\t\t\t\t\t\t\t\t<text>{{item.showStartTime}}-{{item.showEndTime}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"getcouponbtn-pop-gray\">已领取</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"coupon-notice-pop\">\r\n\t\t\t\t\t<view class=\"coupon-notice-tit-pop\">优惠券说明</view>\r\n\t\t\t\t\t<view>1.不与其他活动以及促销商品叠加使用。</view>\r\n\t\t\t\t\t<view>2.此券不能出售转让，不兑现找零。</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"baskettab\" :animation=\"baskettabAnimation\">\r\n\t\t\t<view style=\"display:flex;width: 100%;\">\r\n\t\t\t\t<view class=\"baskettab-basketicon\">\r\n\t\t\t\t\t<image mode=\"widthFix\" src=\"/static/images/icon/add.png\" v-show=\"totalProdCount !== 0\"></image>\r\n\t\t\t\t\t<view class=\"prods-in-basket\">{{totalProdCount}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"amount\">\r\n\t\t\t\t\t<!-- <view>\r\n          <text style='font-size:30rpx'>合计：￥</text>\r\n          <text>{{wxs.parsePrice(finalMoney)[0]}}</text>\r\n          <text>.{{wxs.parsePrice(finalMoney)[1]}}</text>\r\n      </view> -->\r\n\t\t\t\t\t<view class=\"floorAmount\" :style=\"'margin-left:' + (prodCount==0?30:0) + 'rpx'\">\r\n\t\t\t\t\t\t<!-- 满{{startPrice}}起送 -->\r\n\t\t\t\t\t\t0元起送，免配送费\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <button wx:if=\"{{!phoneNumber}}\" open-type='getPhoneNumber' bindgetphonenumber=\"getPhoneNumber\" class=\"topay {{startPrice>finalMoney?'btngray':''}}\" >去结算</button>\r\n  <button wx:if=\"{{phoneNumber}}\" bindtap='toFirmOrder'   class=\"topay {{startPrice>finalMoney?'btngray':''}}\" >去结算</button> -->\r\n\t\t\t<view class=\"buynow-btn\" @tap=\"changeShowBuynowPop\">\r\n\t\t\t\t<view>￥{{price}}</view>\r\n\t\t\t\t<view>单独购买</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"buygroup-btn\" @tap=\"buyNow\" data-submitType=\"launch\">\r\n\t\t\t\t<view>￥{{groupbuyPrice}}</view>\r\n\t\t\t\t<view>去开团</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 购物车弹窗 -->\r\n\t\t<view v-if=\"popupShow\">\r\n\t\t\t<view class=\"popup-hide\" v-if=\"popupShow\" @tap.stop=\"hideBasket\">\r\n\t\t\t</view>\r\n\t\t\t<view class=\"popup-box\" :animation=\"basketAnimation\">\r\n\t\t\t\t<view class=\"popup-tit\">\r\n\t\t\t\t\t<view class=\"popup-tit-info\">已选商品</view>\r\n\t\t\t\t\t<view class=\"clear-btn\" @tap=\"onDelBasket\">\r\n\t\t\t\t\t\t<image src=\"/static/images/icon/clear-his.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<view>清空购物车</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"prod-list\">\r\n\t\t\t\t\t<block v-for=\"(prod, index) in shopCartItems\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t\t<view class=\"prodinfo\">\r\n\t\t\t\t\t\t\t\t<view class=\"pic\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"prod.pic\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"opt\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"prod-name\">{{prod.prodName}}</view>\r\n\t\t\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\t\t\t:class=\"'prod-info-text ' + (prod.skuName?'':'empty-n')\">{{prod.skuName == null?'': prod.skuName}}</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"price-count\">\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"!prod.activityPrice\" class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"symbol\">￥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"big-num\">{{wxs.parsePrice(prod.price)[0]}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"small-num\">.{{wxs.parsePrice(prod.price)[1]}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"prod.activityPrice\" class=\"price\" style=\"font-size:13px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view style=\"text-decoration:line-through;margin-right:20rpx;color:#999;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t原价：￥{{prod.price}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view style>活动价：￥{{prod.activityPrice}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"m-numSelector\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view @tap=\"onBasketCountMinus\" class=\"minus\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image src=\"/static/images/icon/decrease.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<input disabled type=\"number\" :value=\"prod.prodCount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"onBasketCountChange\" :data-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:data-oldCount=\"prod.prodCount\"></input>\r\n\t\t\t\t\t\t\t\t\t\t\t<view @tap=\"onBasketCountPlus\" class=\"plus\" :data-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:data-activityTimesFlag=\"prod.activityTimesFlag\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:data-activityOrderFlag=\"prod.activityOrderFlag\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image src=\"/static/images/icon/increase.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view class=\"item\">\r\n            <view class=\"prod\"></view>\r\n          </view> -->\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"cmt-popup\" v-if=\"commentShow\">\r\n\t\t\t<view class=\"cmt-tit\">\r\n\t\t\t\t<view class=\"cmt-t\">\r\n\t\t\t\t\t商品评价\r\n\t\t\t\t\t<text class=\"cmt-good\">好评度{{prodCommData.positiveRating}}%</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"close\" @tap=\"closePopup\"></text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cmt-cont\">\r\n\t\t\t\t<view class=\"cmt-tag\">\r\n\t\t\t\t\t<text @tap=\"getProdCommPage\" data-evaluate=\"-1\"\r\n\t\t\t\t\t\t:class=\"evaluate==-1?'selected':''\">全部({{prodCommData.number}})</text>\r\n\t\t\t\t\t<text @tap=\"getProdCommPage\" data-evaluate=\"0\"\r\n\t\t\t\t\t\t:class=\"evaluate==0?'selected':''\">好评({{prodCommData.praiseNumber}})</text>\r\n\t\t\t\t\t<text @tap=\"getProdCommPage\" data-evaluate=\"1\"\r\n\t\t\t\t\t\t:class=\"evaluate==1?'selected':''\">中评({{prodCommData.secondaryNumber}})</text>\r\n\t\t\t\t\t<text @tap=\"getProdCommPage\" data-evaluate=\"2\"\r\n\t\t\t\t\t\t:class=\"evaluate==2?'selected':''\">差评({{prodCommData.negativeNumber}})</text>\r\n\t\t\t\t\t<text @tap=\"getProdCommPage\" data-evaluate=\"3\"\r\n\t\t\t\t\t\t:class=\"evaluate==3?'selected':''\">有图({{prodCommData.picNumber}})</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cmt-items\">\r\n\t\t\t\t\t<view v-for=\"(item, index) in prodCommPage.records\" :key=\"index\" class=\"cmt-item\">\r\n\t\t\t\t\t\t<view class=\"cmt-user\">\r\n\t\t\t\t\t\t\t<text class=\"date\">{{item.recTime}}</text>\r\n\t\t\t\t\t\t\t<view class=\"cmt-user-info\">\r\n\t\t\t\t\t\t\t\t<image class=\"user-img\" :src=\"item.pic\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"nickname\">{{item.nickName}}</view>\r\n\t\t\t\t\t\t\t\t<van-rate readonly :value=\"item.score\" @change=\"onChange\" color=\"#f44\"></van-rate>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cmt-cnt\">{{item.content}}</view>\r\n\t\t\t\t\t\t<scroll-view class=\"cmt-attr\" scroll-x=\"true\" v-if=\"item.pics.length\">\r\n\t\t\t\t\t\t\t<image v-for=\"(commPic, index2) in item.pics\" :key=\"index2\" :src=\"commPic\"></image>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t<view class=\"cmt-reply\" v-if=\"item.replyContent\">\r\n\t\t\t\t\t\t\t<text class=\"reply-tit\">店铺回复：</text> {{item.replyContent}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"load-more\" v-if=\"prodCommPage.pages > prodCommPage.current\">\r\n\t\t\t\t\t<text @tap=\"getMoreCommPage\">点击加载更多</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"buynow-pop\" catchtouchmove=\"none\" v-if=\"showBuynowPop\">\r\n\t\t\t<view class=\"shadow\" @tap=\"changeShowBuynowPop\"></view>\r\n\t\t\t<view class=\"buynow-content\">\r\n\t\t\t\t<view class=\"prod-info\">\r\n\t\t\t\t\t<view class=\"prod-img\">\r\n\t\t\t\t\t\t<image :src=\"pic\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"prodname-price\">\r\n\t\t\t\t\t\t<view class=\"prodname\">{{prodName}}</view>\r\n\t\t\t\t\t\t<view class=\"pop-price\">￥{{price}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"sku-list\">\r\n\t\t\t\t\t<view class=\"skulist-title\">口味</view>\r\n\t\t\t\t\t<view class=\"sku-item-content\">\r\n\t\t\t\t\t\t<view class=\"sku-item active\">【网红巴旦木奶枣】120g/袋*3</view>\r\n\t\t\t\t\t\t<!-- <view class=\"sku-item\">160g/袋</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"count\">\r\n\t\t\t\t\t<view class=\"count-title\">数量</view>\r\n\t\t\t\t\t<view class=\"count-box\">\r\n\t\t\t\t\t\t<view @tap=\"onCurrentProdMinus\">-</view>\r\n\t\t\t\t\t\t<view>{{prodCount}}</view>\r\n\t\t\t\t\t\t<view @tap=\"onCurrentProdPlus\">+</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"buynow-confirm\" @tap=\"gosubmit\">确定</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script src=\"../../wxs/number.js\"></script>\r\n\r\n<script>\r\n\tvar util = require(\"../../utils/util.js\");\r\n\timport groupbuyInfoList from './groupbuyInfoList.js'\r\n\timport customNavi from '@/components/custom-navi/custom-navi.vue'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '商品详情',\r\n\t\t\t\tnaviData: {\r\n\t\t\t\t\tifGoHome: false,\r\n\t\t\t\t\tifGoBack: true\r\n\t\t\t\t},\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tshopCartItems: [],\r\n\t\t\t\tisShowLoading: false,\r\n\t\t\t\tisSpread: false,\r\n\t\t\t\tgroupbuyPrice: 0,\r\n\t\t\t\tindicatorDots: true,\r\n\t\t\t\tindicatorColor: '#f2f2f2',\r\n\t\t\t\tindicatorActiveColor: '#eb2444',\r\n\t\t\t\tautoplay: true,\r\n\t\t\t\tinterval: 3000,\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\tbackgroundColor: '#FFAD4F'\r\n\t\t\t\t},\r\n\t\t\t\tprodsList: [],\r\n\t\t\t\tcouponPopAnimation: null,\r\n\t\t\t\tshowBasketIcon: true,\r\n\t\t\t\tshowBasket: false,\r\n\t\t\t\tshowCoupons: false,\r\n\t\t\t\tevalatImage: '',\r\n\t\t\t\tbgBanner: '',\r\n\t\t\t\timagePath: \"\",\r\n\t\t\t\tmaskHidden: false,\r\n\t\t\t\tshopId: 1,\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\tprodCount: 0,\r\n\t\t\t\tshowBuynowPop: false,\r\n\t\t\t\tpic: \"\",\r\n\t\t\t\timgs: '',\r\n\t\t\t\tprodName: '',\r\n\t\t\t\tprice: 0,\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tprodId: 0,\r\n\t\t\t\tbrief: '',\r\n\t\t\t\tskuId: 0,\r\n\t\t\t\tpopupShow: false,\r\n\t\t\t\t// 是否获取过用户领取过的优惠券id\r\n\t\t\t\tloadCouponIds: false,\r\n\t\t\t\tskuShow: false,\r\n\t\t\t\tcommentShow: false,\r\n\t\t\t\tcouponList: [],\r\n\t\t\t\t// skuList: [],\r\n\t\t\t\tskuGroup: {},\r\n\t\t\t\tfindSku: true,\r\n\t\t\t\tdefaultSku: undefined,\r\n\t\t\t\tselectedProp: [],\r\n\t\t\t\tselectedPropObj: {},\r\n\t\t\t\tpropKeys: [],\r\n\t\t\t\tallProperties: [],\r\n\t\t\t\tprodCommData: {},\r\n\t\t\t\tprodCommPage: {\r\n\t\t\t\t\tcurrent: 0,\r\n\t\t\t\t\tpages: 0,\r\n\t\t\t\t\trecords: []\r\n\t\t\t\t},\r\n\t\t\t\tlittleCommPage: [],\r\n\t\t\t\tevaluate: -1,\r\n\t\t\t\ttjr: '',\r\n\t\t\t\t//通过分享海报的推荐人\r\n\t\t\t\tqrcodePath: '',\r\n\t\t\t\tposterImg: '',\r\n\t\t\t\t//海报图片\r\n\t\t\t\tuserName: '',\r\n\t\t\t\trebateMoney: '',\r\n\t\t\t\tifShowGoHome: false,\r\n\t\t\t\tifShowGoBack: true,\r\n\t\t\t\t//佣金\r\n\t\t\t\tsharetjr: '',\r\n\t\t\t\textensionWorker: '',\r\n\t\t\t\tphoneNumber: '',\r\n\t\t\t\tactivityPrice: null,\r\n\t\t\t\tenterType: '',\r\n\t\t\t\tgroupbuyInfoList: groupbuyInfoList,\r\n\t\t\t\tptglid: \"\",\r\n\t\t\t\tskuList: \"\",\r\n\t\t\t\tsaleMonth: \"\",\r\n\t\t\t\tactivityOrderFlag: \"\",\r\n\t\t\t\tactivityTimesFlag: \"\",\r\n\t\t\t\tisGroupPeople: \"\",\r\n\t\t\t\tprodNum: \"\",\r\n\t\t\t\tbasketAnimation: \"\",\r\n\t\t\t\tbasketCount: \"\",\r\n\t\t\t\tfinalMoney: \"\",\r\n\t\t\t\ttotalMoney: \"\",\r\n\t\t\t\tsubtractMoney: \"\",\r\n\t\t\t\tstartPrice: \"\",\r\n\t\t\t\tgroupInvitedInfo: \"\",\r\n\t\t\t\tleftSecond: \"\",\r\n\t\t\t\tleftTime: \"\",\r\n\t\t\t\tbaskettabAnimation: null,\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomponents: {\r\n\t\t\tcustomNavi\r\n\t\t},\r\n\t\tprops: {},\r\n\r\n\t\tcomputed: {\r\n\t\t\tshopInfo() {\r\n\t\t\t\treturn this.$store.state.currentShop.shopInfo\r\n\t\t\t},\r\n\r\n\t\t\ttotalProdCount() {\r\n\t\t\t\tlet shopCart = this.shopCartItems\r\n\t\t\t\tlet totalProdCount = this.shopCartItems.reduce((count, current) => {\r\n\t\t\t\t\treturn count + current.prodCount\r\n\t\t\t\t}, 0)\r\n\t\t\t\treturn totalProdCount\r\n\t\t\t},\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 生命周期函数--监听页面加载\r\n\t\t */\r\n\t\tonLoad: function(options) {\r\n\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\tuni.getSetting({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif (!res.authSetting['scope.userInfo']) {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//#endif\r\n\t\t\tlet scene = options.scene || '';\r\n\t\t\tconsole.log(scene)\r\n\t\t\tif (scene != undefined && scene != \"\") {\r\n\t\t\t\tthis.ptglid = scene.split(\"-\")[0];\r\n\t\t\t\tthis.prodId = scene.split(\"-\")[1];\r\n\t\t\t\tthis.shopId = scene.split(\"-\")[2]; //  将获取到的shopId存入全局变量\r\n\t\t\t\tthis.$store.dispatch('currentShop/getShopId', shopId)\r\n\t\t\t\tthis.naviData.ifGoHome = true\r\n\t\t\t\tthis.naviData.ifGoBack = false\r\n\t\t\t\tthis.enterType = 'invite'\r\n\t\t\t\tthis.loadInvitedGroupInfo(ptglid);\r\n\t\t\t} else {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tprodId: options.prodid ? options.prodid : 0,\r\n\t\t\t\t\tshopId: this.$store.state.currentShop.shopId,\r\n\t\t\t\t\ttjr: options.sharetjr ? options.sharetjr : ''\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.getShareTjr(); // 加载商品信息\r\n\t\t\tthis.getProdInfo(); // 加载评论数据\r\n\t\t\tthis.getProdCommData(); // 加载评论项\r\n\t\t\tthis.getLittleProdComm(); // 查看用户是否关注\r\n\t\t\tthis.getUserName();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 生命周期函数--监听页面显示\r\n\t\t */\r\n\t\tonShow: function() {\r\n\t\t\tlet phoneNumber = uni.getStorageSync('phoneNumber');\r\n\t\t\tthis.setData({\r\n\t\t\t\tphoneNumber: phoneNumber\r\n\t\t\t});\r\n\t\t\tthis.qrcode_image();\r\n\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\tthis.getWxCode();\r\n\t\t\t//#endif\r\n\t\t\tthis.getBasketInfo();\r\n\t\t\tthis.getShopProdsInfo();\r\n\t\t\tthis.getCouponList();\r\n\t\t\tthis.getGroupbuyInfo();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 用户点击右上角分享\r\n\t\t */\r\n\t\tonShareAppMessage: function() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.prodName,\r\n\t\t\t\tpath: '/pages/groupbuy/groupbuy?prodid=' + this.prodId\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取商品信息\r\n\t\t\tgetProdInfo() {\r\n\t\t\t\tthis.$request.get(\"/prod/prodInfo\", {\r\n\t\t\t\t\tprodId: this.prodId // userType: 0\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tvar imgStrs = res.imgs;\r\n\t\t\t\t\tvar imgs = imgStrs.split(\",\");\r\n\t\t\t\t\tvar Img = imgStrs.split(\",\")[0];\r\n\t\t\t\t\tvar content = util.formatHtml(res.content);\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\timgs: imgs,\r\n\t\t\t\t\t\tcontent: content,\r\n\t\t\t\t\t\tprice: res.price,\r\n\t\t\t\t\t\tprodName: res.prodName,\r\n\t\t\t\t\t\tprodId: res.prodId,\r\n\t\t\t\t\t\tbrief: res.brief,\r\n\t\t\t\t\t\tskuId: res.skuList[0].skuId,\r\n\t\t\t\t\t\t// skuList: res.skuList,\r\n\t\t\t\t\t\tpic: res.pic,\r\n\t\t\t\t\t\tposterImg: Img,\r\n\t\t\t\t\t\tsaleMonth: res.salesNumber,\r\n\t\t\t\t\t\trebateMoney: res.rebateMoney,\r\n\t\t\t\t\t\tisSpread: res.isSpread == 0,\r\n\t\t\t\t\t\tactivityOrderFlag: res.activityOrderFlag,\r\n\t\t\t\t\t\tactivityTimesFlag: res.activityTimesFlag,\r\n\t\t\t\t\t\tactivityPrice: res.activityPrice\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetProdCommData() {\r\n\t\t\t\tthis.$request.get(\"/prodComm/prodCommData\", {\r\n\t\t\t\t\tprodId: this.prodId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.prodCommData = res\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取部分评论\r\n\t\t\tgetLittleProdComm() {\r\n\t\t\t\tif (this.prodCommPage.records.length) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.getProdCommPage();\r\n\t\t\t},\r\n\r\n\t\t\tgetMoreCommPage(e) {\r\n\t\t\t\tthis.getProdCommPage();\r\n\t\t\t},\r\n\t\t\t// 获取分页获取评论\r\n\t\t\tgetProdCommPage(evaluate) {\r\n\t\t\t\tif (evaluate) {\r\n\t\t\t\t\tif (evaluate === this.evaluate) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tprodCommPage: {\r\n\t\t\t\t\t\t\tcurrent: 0,\r\n\t\t\t\t\t\t\tpages: 0,\r\n\t\t\t\t\t\t\trecords: []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tevaluate: evaluate\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request.get(\"/prodComm/prodCommPageByProd\", {\r\n\t\t\t\t\tprodId: this.prodId,\r\n\t\t\t\t\tsize: 10,\r\n\t\t\t\t\tcurrent: this.prodCommPage.current + 1,\r\n\t\t\t\t\tevaluate: this.evaluate\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tres.records.forEach(item => {\r\n\t\t\t\t\t\tif (item.pics) {\r\n\t\t\t\t\t\t\titem.pics = item.pics.split(',');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet records = this.prodCommPage.records;\r\n\t\t\t\t\trecords = records.concat(res.records);\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tprodCommPage: {\r\n\t\t\t\t\t\t\tcurrent: res.current,\r\n\t\t\t\t\t\t\tpages: res.pages,\r\n\t\t\t\t\t\t\trecords: records\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}); // 如果商品详情中没有评论的数据，截取两条到商品详情页商品详情\r\n\t\t\t\t\tif (!this.littleCommPage.length) {\r\n\t\t\t\t\t\tthis.littleCommPage = records.slice(0, 2)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetGroupbuyInfo() {\r\n\t\t\t\tthis.$request.get('/makeUpGroup/getPtSuccessedListbyProdId', {\r\n\t\t\t\t\tprodId: this.prodId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet infoList = res.yxPtglList.concat(this.groupbuyInfoList);\r\n\t\t\t\t\tlet groupbuyInfoList = infoList.map(item => {\r\n\t\t\t\t\t\tlet phone = item.phoneNumber;\r\n\t\t\t\t\t\tif (phone) {\r\n\t\t\t\t\t\t\tphone = phone.slice(0, 3) + '*****' + phone.slice(8);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tphone = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.phoneNumber = phone;\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tgroupbuyInfoList,\r\n\t\t\t\t\t\tgroupbuyPrice: res.ptj,\r\n\t\t\t\t\t\tisGroupPeople: res.isGroupPeople\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetUserName() {\r\n\t\t\t\tthis.$request.get(\"/prod/getUserInfo\").then(res => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tuserName: res.userName,\r\n\t\t\t\t\t\textensionWorker: res.extensionWorker\r\n\t\t\t\t\t});\r\n\t\t\t\t}, rej => {\r\n\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 商铺logo加载出错\r\n\t\t\thandleLogoLoadError: function(e) {\r\n\t\t\t\tlet shopInfo = this.shopInfo;\r\n\t\t\t\tshopInfo.shopLogo = \"/static/images/icon/logo.png\";\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tshopInfo\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tgetShareTjr: function() {\r\n\t\t\t\tthis.$request.get(\"/prod/getUserId\", ).then(res => {\r\n\t\t\t\t\tthis.userId = res\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//点击生成海报\r\n\t\t\tformSubmit: function(e) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '海报生成中...',\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t\tthat.createNewImg();\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t// wx.hideLoading()\r\n\t\t\t\t\t// wx.hideToast()\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tmaskHidden: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\tcreateNewImg: function() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar context = uni.createCanvasContext('mycanvas');\r\n\t\t\t\tcontext.clearRect(0, 0, 375, 660);\r\n\t\t\t\tcontext.setFillStyle(\"#fff\");\r\n\t\t\t\tcontext.fillRect(0, 0, 375, 660);\r\n\t\t\t\tcontext.save();\r\n\t\t\t\tvar path = that.evalatImage;\r\n\t\t\t\tcontext.drawImage(path, 0, 0, 375, 660);\r\n\t\t\t\tvar path1 = that.bgBanner;\r\n\t\t\t\tvar path2 = that.qrcodePath; // context.setFontSize(16);\r\n\t\t\t\t// context.setFillStyle('#333');\r\n\t\t\t\t// context.setTextAlign('left');\r\n\t\t\t\t// context.fillText(\"测试结果\", 60, 230);\r\n\t\t\t\t// context.stroke();\r\n\t\t\t\t// context.save();\r\n\r\n\t\t\t\tvar titl = this.prodName;\r\n\t\t\t\tcontext.setFontSize(18);\r\n\t\t\t\tcontext.setFillStyle('#333');\r\n\t\t\t\tcontext.setTextAlign('left');\r\n\t\t\t\tcontext.font = 'normal bold 18px SimSun';\r\n\t\t\t\tthat.dealWords({\r\n\t\t\t\t\tctx: context,\r\n\t\t\t\t\t//画布上下文 canvasID\r\n\t\t\t\t\tfontSize: 18,\r\n\t\t\t\t\t//字体大小\r\n\t\t\t\t\tword: titl,\r\n\t\t\t\t\t//需要处理的文字\r\n\t\t\t\t\tmaxWidth: 200,\r\n\t\t\t\t\t//一行文字最大宽度\r\n\t\t\t\t\tx: 15,\r\n\t\t\t\t\t//文字在x轴要显示的位置\r\n\t\t\t\t\ty: 450,\r\n\t\t\t\t\t//文字在y轴要显示的位置\r\n\t\t\t\t\tmaxLine: 2 //文字最多显示的行数\r\n\r\n\t\t\t\t});\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.save();\r\n\t\t\t\tvar titl = \"价格 ：￥\" + this.price;\r\n\t\t\t\tcontext.setFontSize(18);\r\n\t\t\t\tcontext.setFillStyle('#ff0000');\r\n\t\t\t\tcontext.setTextAlign('left');\r\n\t\t\t\tcontext.font = 'normal bold 18px SimSun';\r\n\t\t\t\tthat.dealWords({\r\n\t\t\t\t\tctx: context,\r\n\t\t\t\t\t//画布上下文 canvasID\r\n\t\t\t\t\tfontSize: 18,\r\n\t\t\t\t\t//字体大小\r\n\t\t\t\t\tword: titl,\r\n\t\t\t\t\t//需要处理的文字\r\n\t\t\t\t\tmaxWidth: 200,\r\n\t\t\t\t\t//一行文字最大宽度\r\n\t\t\t\t\tx: 15,\r\n\t\t\t\t\t//文字在x轴要显示的位置\r\n\t\t\t\t\ty: 520,\r\n\t\t\t\t\t//文字在y轴要显示的位置\r\n\t\t\t\t\tmaxLine: 2 //文字最多显示的行数\r\n\r\n\t\t\t\t});\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.save(); //    if(this.data.rebateMoney){\r\n\t\t\t\t//         var titl = \"佣金 ：￥\"+this.data.price*this.data.rebateMoney;\r\n\t\t\t\t//         context.setFontSize(18);\r\n\t\t\t\t//         context.setFillStyle('#ff0000');\r\n\t\t\t\t//         context.setTextAlign('left');\r\n\t\t\t\t//         context.font = 'normal bold 18px SimSun';\r\n\t\t\t\t//         that.dealWords({\r\n\t\t\t\t//           ctx: context,              \t    //画布上下文 canvasID\r\n\t\t\t\t//           fontSize: 18,         \t   //字体大小\r\n\t\t\t\t//           word: titl,  \t\t\t\t  //需要处理的文字\r\n\t\t\t\t//           maxWidth: 200, \t\t\t //一行文字最大宽度\r\n\t\t\t\t//           x: 15,  \t\t\t\t\t//文字在x轴要显示的位置\r\n\t\t\t\t//           y: 500, \t\t\t\t \t   //文字在y轴要显示的位置\r\n\t\t\t\t//           maxLine: 2  \t\t\t  //文字最多显示的行数\r\n\t\t\t\t//         });\r\n\t\t\t\t//         context.stroke();\r\n\t\t\t\t//         context.save();\r\n\t\t\t\t// }\r\n\t\t\t\t// context.setFontSize(16);\r\n\t\t\t\t// context.setFillStyle('#333');\r\n\t\t\t\t// context.setTextAlign('left');\r\n\t\t\t\t// context.fillText(\"测试说明\", 60, 320);\r\n\t\t\t\t// context.stroke();\r\n\t\t\t\t// context.save();\r\n\r\n\t\t\t\tcontext.drawImage(path1, 0, 0, 375, 375); //var results = \"分享的文本信息，布上下文 canvasID\";\r\n\t\t\t\t// 测试结果说明\r\n\t\t\t\t// that.dealWords({\r\n\t\t\t\t//   ctx: context,              \t    //画布上下文 canvasID\r\n\t\t\t\t//   fontSize: 16,         \t   //字体大小\r\n\t\t\t\t//   word: results,  \t\t\t\t  //需要处理的文字\r\n\t\t\t\t//   maxWidth: 270, \t\t\t //一行文字最大宽度\r\n\t\t\t\t//   x: 60,  \t\t\t\t\t//文字在x轴要显示的位置\r\n\t\t\t\t//   y: 340, \t\t\t\t \t   //文字在y轴要显示的位置\r\n\t\t\t\t//   maxLine: 6  \t\t\t  //文字最多显示的行数\r\n\t\t\t\t// });\r\n\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.save(); //保存之前的画布设置\r\n\t\t\t\t//绘制头像\r\n\t\t\t\t// context.beginPath();\r\n\t\t\t\t// context.arc(50, 225, 5, 0, 2 * Math.PI);\r\n\t\t\t\t// context.setStrokeStyle(\"#c7eddd\");\r\n\t\t\t\t// context.setFillStyle(\"#44bf8c\");\r\n\t\t\t\t// context.clip(); //裁剪上面的圆形\r\n\t\t\t\t// context.fill();//填充\r\n\t\t\t\t// context.restore();//因为clip是剪切了画布  则后面所有的操作都会限制在被裁减的区域内可见  用restore可以恢复之前的设置\r\n\t\t\t\t// context.closePath();\r\n\t\t\t\t//  context.save(); //保存之前的画布设置\r\n\t\t\t\t// context.beginPath();\r\n\t\t\t\t// context.arc(50, 315, 5, 0, 2 * Math.PI);\r\n\t\t\t\t// context.setStrokeStyle(\"#c7eddd\");\r\n\t\t\t\t// context.setFillStyle(\"#44bf8c\");\r\n\t\t\t\t// context.clip(); //裁剪上面的圆形\r\n\t\t\t\t// context.fill();//填充\r\n\t\t\t\t// context.restore();\r\n\t\t\t\t// context.closePath();\r\n\r\n\t\t\t\tcontext.save(); //保存之前的画布设置\r\n\t\t\t\t//context.beginPath();\r\n\t\t\t\t//context.arc(280, 485, 50, 0, 2 * Math.PI);\r\n\t\t\t\t//context.setStrokeStyle(\"#ffe200\");\r\n\t\t\t\t//context.clip(); //裁剪上面的圆形\r\n\r\n\t\t\t\tcontext.drawImage(path2, 220, 420, 140, 140); //context.restore();\r\n\t\t\t\t// context.closePath();\r\n\r\n\t\t\t\tcontext.save(); //保存之前的画布设置\r\n\r\n\t\t\t\tcontext.beginPath(); // context.setFontSize(16);\r\n\r\n\t\t\t\tcontext.setFillStyle('#fff');\r\n\t\t\t\tcontext.setTextBaseline(\"top\");\r\n\t\t\t\tcontext.setTextAlign('left'); // context.font = 'normal 18px arial';\r\n\t\t\t\t// context.fillText(\"预防疫情四大宅家心理健康测评\", 115, 565);\r\n\t\t\t\t// context.fillText(\"预防疫情四大宅家心理健康测评\", 115, 589);\r\n\t\t\t\t// that.dealWords({\r\n\t\t\t\t//   ctx: context,              \t    //画布上下文 canvasID\r\n\t\t\t\t//   fontSize: 16,         \t   //字体大小\r\n\t\t\t\t//   //word: titl,  \t\t\t\t  //需要处理的文字\r\n\t\t\t\t//   maxWidth: 240, \t\t\t //一行文字最大宽度\r\n\t\t\t\t//   x: 115,  \t\t\t\t\t//文字在x轴要显示的位置\r\n\t\t\t\t//   y: 540, \t\t\t\t \t   //文字在y轴要显示的位置\r\n\t\t\t\t//   maxLine: 2  \t\t\t  //文字最多显示的行数\r\n\t\t\t\t// });\r\n\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.save(); //保存之前的画布设置\r\n\r\n\t\t\t\tcontext.draw(true); //true表示保留之前绘制内容\r\n\t\t\t\t//将生成好的图片保存到本地，需要延迟一会，绘制期间耗时\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tcanvasId: 'mycanvas',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tvar tempFilePath = res.tempFilePath;\r\n\t\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\t\timagePath: tempFilePath\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\r\n\t\t\t//文本换行\r\n\t\t\tdealWords(options) {\r\n\t\t\t\toptions.ctx.setFontSize(options.fontSize); //设置字体大小\r\n\r\n\t\t\t\tvar allRow = Math.ceil(options.ctx.measureText(options.word).width / options.maxWidth); //实际总共能分多少行\r\n\r\n\t\t\t\tvar count = allRow >= options.maxLine ? options.maxLine : allRow; //实际能分多少行与设置的最大显示行数比，谁小就用谁做循环次数\r\n\r\n\t\t\t\tvar endPos = 0; //当前字符串的截断点\r\n\r\n\t\t\t\tfor (var j = 0; j < count; j++) {\r\n\t\t\t\t\tvar nowStr = options.word.slice(endPos); //当前剩余的字符串\r\n\r\n\t\t\t\t\tvar rowWid = 0; //每一行当前宽度    \r\n\r\n\t\t\t\t\tif (options.ctx.measureText(nowStr).width > options.maxWidth) {\r\n\t\t\t\t\t\t//如果当前的字符串宽度大于最大宽度，然后开始截取\r\n\t\t\t\t\t\tfor (var m = 0; m < nowStr.length; m++) {\r\n\t\t\t\t\t\t\trowWid += options.ctx.measureText(nowStr[m]).width; //当前字符串总宽度\r\n\r\n\t\t\t\t\t\t\tif (rowWid > options.maxWidth) {\r\n\t\t\t\t\t\t\t\tif (j === options.maxLine - 1) {\r\n\t\t\t\t\t\t\t\t\t//如果是最后一行\r\n\t\t\t\t\t\t\t\t\toptions.ctx.fillText(nowStr.slice(0, m - 1) + '...', options.x, options.y + (j + 1) *\r\n\t\t\t\t\t\t\t\t\t\t25); //(j+1)*20这是每一行的高度        \r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\toptions.ctx.fillText(nowStr.slice(0, m), options.x, options.y + (j + 1) * 25);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tendPos += m; //下次截断点\r\n\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//如果当前的字符串宽度小于最大宽度就直接输出\r\n\t\t\t\t\t\toptions.ctx.fillText(nowStr.slice(0), options.x, options.y + (j + 1) * 25);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//点击保存到相册\r\n\t\t\tbaocun: function() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: that.imagePath,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '图片已保存到相册，赶紧晒一下吧~',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '好的',\r\n\t\t\t\t\t\t\tconfirmColor: '#333',\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t/* 该隐藏的隐藏 */\r\n\t\t\t\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\t\t\t\tmaskHidden: false\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(res) {}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tqrcode_image: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\tsrc: \"http://images.51xeld.com/2020/07/126ac97368f94c4cafd1f45493a1c61d.jpg\",\r\n\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tevalatImage: res.path\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\tsrc: that.posterImg + \"?/imageView2/1/w/421/h/304/q/75\",\r\n\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\t\tbgBanner: res.path\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 跳转到首页\r\n\t\t\t */\r\n\t\t\ttoHomePage: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 跳转到购物车\r\n\t\t\t */\r\n\t\t\ttoCartPage: function() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/basket/basket'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 加入购物车\r\n\t\t\t */\r\n\t\t\taddToCart: function() {\r\n\t\t\t\tthis.$request.post(\"/p/shopCart/changeItem\", {\r\n\t\t\t\t\tbasketId: 0,\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tprodId: this.prodId,\r\n\t\t\t\t\tshopId: this.shopId,\r\n\t\t\t\t\tskuId: this.skuId,\r\n\t\t\t\t\tactivityOrderFlag: this.activityOrderFlag,\r\n\t\t\t\t\tactivityTimesFlag: this.activityTimesFlag\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.status == 0) {\r\n\t\t\t\t\t\tthis.getBasketInfo();\r\n\t\t\t\t\t\tif (this.isShowLoading) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.isShowLoading = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 减数量\r\n\t\t\t */\r\n\t\t\tonCountMinus: function() {\r\n\t\t\t\tvar prodNum = this.prodNum;\r\n\r\n\t\t\t\tif (prodNum > 1) {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tprodNum: prodNum - 1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 加数量\r\n\t\t\t */\r\n\t\t\tonCountPlus: function() {\r\n\t\t\t\tvar prodNum = this.prodNum;\r\n\r\n\t\t\t\tif (prodNum < 1000) {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tprodNum: prodNum + 1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowPopup: function() {\r\n\t\t\t\tif (this.loadCouponIds) {\r\n\t\t\t\t\tthis.popupShow = true\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request.get(\"/p/myCoupon/listCouponIds\", ).then(couponIds => {\r\n\t\t\t\t\tvar couponList = this.couponList;\r\n\t\t\t\t\tcouponList.forEach(coupon => {\r\n\t\t\t\t\t\tif (couponIds && couponIds.length) {\r\n\t\t\t\t\t\t\t// 领取该优惠券数量\r\n\t\t\t\t\t\t\tvar couponLimit = 0;\r\n\t\t\t\t\t\t\tcouponIds.forEach(couponId => {\r\n\t\t\t\t\t\t\t\tif (couponId == coupon.couponId) {\r\n\t\t\t\t\t\t\t\t\tcouponLimit++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}); // 小于用户领取优惠券上限，可以领取优惠券\r\n\t\t\t\t\t\t\tif (couponLimit < coupon.limitNum) {\r\n\t\t\t\t\t\t\t\tcoupon.canReceive = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcoupon.canReceive = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcoupon.canReceive = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tcouponList: couponList,\r\n\t\t\t\t\t\tpopupShow: true,\r\n\t\t\t\t\t\tloadCouponIds: true\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowSku: function() {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tskuShow: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowComment: function() {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcommentShow: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclosePopup: function() {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tpopupShow: false,\r\n\t\t\t\t\tskuShow: false,\r\n\t\t\t\t\tcommentShow: false\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowBasketFun: function() {\r\n\t\t\t\tvar basketAnimation = uni.createAnimation({\r\n\t\t\t\t\tduration: 400,\r\n\t\t\t\t\ttimingFunction: 'ease-in-out'\r\n\t\t\t\t});\r\n\t\t\t\tthis.getBasketInfo();\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tpopupShow: true,\r\n\t\t\t\t\tbasketAnimation: basketAnimation.translateY(1000).step().export()\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tbasketAnimation: basketAnimation.translateY(0).step().export()\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcloseOrders: function() {\r\n\t\t\t\tvar basketAnimation = uni.createAnimation({\r\n\t\t\t\t\tduration: 300,\r\n\t\t\t\t\ttimingFunction: 'ease-in-out'\r\n\t\t\t\t});\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tbasketAnimation: basketAnimation.translateY(1000).step().export()\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tpopupShow: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 300);\r\n\t\t\t},\r\n\r\n\t\t\tdetectIfShowBasketIcon(prodId, shopCartItems) {\r\n\t\t\t\tfor (let i = 0; i < shopCartItems.length; i++) {\r\n\t\t\t\t\tconst cartItem = shopCartItems[i];\r\n\r\n\t\t\t\t\tif (cartItem.prodId == prodId && cartItem.prodCount > 0) {\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tshowBasketIcon: false,\r\n\t\t\t\t\t\t\tprodCount: cartItem.prodCount\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetWxCode: function() {\r\n\t\t\t\tlet self = this\r\n\t\t\t\tthis.$request.post(\"/user/getWxCode\", {\r\n\t\t\t\t\tprodId: this.prodId,\r\n\t\t\t\t\tshopId: this.shopId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tvar save = uni.getFileSystemManager();\r\n\t\t\t\t\tvar number = Math.random();\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tlet filePath = wx.env.USER_DATA_PATH + '/pic' + number + '.png';\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tsave.writeFile({\r\n\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\tdata: res,\r\n\t\t\t\t\t\tencoding: 'base64',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tself.setData({\r\n\t\t\t\t\t\t\t\tqrcodePath: filePath\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 购物车详情\r\n\t\t\tgetBasketInfo: function() {\r\n\t\t\t\tthis.$request.post(\"/p/shopCart/info/\" + this.shopId, ).then(res => {\r\n\t\t\t\t\tif (res.length > 0) {\r\n\t\t\t\t\t\t// 默认全选          \r\n\t\t\t\t\t\tvar shopCartItems = res[0].shopCartItemDiscounts[0].shopCartItems;\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tshopCartItems: shopCartItems\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.detectIfShowBasketIcon(this.prodId, shopCartItems);\r\n\t\t\t\t\t\tthis.calTotalPrice();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tshopCartItems: []\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, (rej) => {\r\n\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 减少购物车数量\r\n\t\t\t */\r\n\t\t\tonBasketCountMinus: function(e) {\r\n\t\t\t\tvar index = e.currentTarget.dataset.index;\r\n\t\t\t\tvar shopCartItems = this.shopCartItems;\r\n\t\t\t\tvar prodCount = shopCartItems[index].prodCount;\r\n\t\t\t\tif (prodCount > 1) {\r\n\t\t\t\t\tthis.updateCount(shopCartItems, index, -1);\r\n\t\t\t\t} else if (prodCount == 1) {\r\n\t\t\t\t\tthis.updateCount(shopCartItems, index, -1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 增加购物车数量\r\n\t\t\t */\r\n\t\t\tonBasketCountPlus: function(e) {\r\n\t\t\t\tvar index = e.currentTarget.dataset.index;\r\n\t\t\t\tvar activityTimesFlag = e.currentTarget.dataset.activitytimesflag;\r\n\t\t\t\tvar activityOrderFlag = e.currentTarget.dataset.activityorderflag;\r\n\t\t\t\tvar shopCartItems = this.shopCartItems;\r\n\t\t\t\tthis.updateCount(shopCartItems, index, 1, activityTimesFlag, activityOrderFlag);\r\n\t\t\t},\r\n\t\t\t// 增加当前商品数量\r\n\t\t\tonCurrentProdPlus: function(e) {\r\n\t\t\t\tvar shopCartItems = this.shopCartItems;\r\n\t\t\t\tfor (let i = 0; i < shopCartItems.length; i++) {\r\n\t\t\t\t\tconst item = shopCartItems[i];\r\n\t\t\t\t\tif (item.prodId == this.prodId) {\r\n\t\t\t\t\t\tthis.updateCount(shopCartItems, i, 1, this.activityTimesFlag, this.activityOrderFlag);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.addToCart();\r\n\t\t\t},\r\n\t\t\t// 减少当前商品数量\r\n\t\t\tonCurrentProdMinus: function(e) {\r\n\t\t\t\tvar shopCartItems = this.shopCartItems;\r\n\t\t\t\tfor (let i = 0; i < shopCartItems.length; i++) {\r\n\t\t\t\t\tconst item = shopCartItems[i];\r\n\t\t\t\t\tif (item.prodId == this.prodId && this.prodCount > 0) {\r\n\t\t\t\t\t\tthis.updateCount(shopCartItems, i, -1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 改变购物车数量接口\r\n\t\t\t */\r\n\t\t\tupdateCount: function(shopCartItems, index, prodCount, activityTimesFlag, activityOrderFlag) {\r\n\t\t\t\tif (!this.isShowLoading) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.isShowLoading = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request.post(\"/p/shopCart/changeItem\", {\r\n\t\t\t\t\tcount: prodCount,\r\n\t\t\t\t\tprodId: shopCartItems[index].prodId,\r\n\t\t\t\t\tskuId: shopCartItems[index].skuId,\r\n\t\t\t\t\tactivityTimesFlag,\r\n\t\t\t\t\tactivityOrderFlag,\r\n\t\t\t\t\tshopId: this.shopId\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tif (res.status == 0) {\r\n\t\t\t\t\t\tshopCartItems[index].prodCount += prodCount;\r\n\t\t\t\t\t\tif (shopCartItems[index].prodCount == 0) {\r\n\t\t\t\t\t\t\tif (shopCartItems[index].prodId == this.prodId) {\r\n\t\t\t\t\t\t\t\tthis.prodCount = 0\r\n\t\t\t\t\t\t\t\tthis.showBasketIcon = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tshopCartItems.splice(index, 1);\r\n\t\t\t\t\t\t\tthis.shopCartItems = shopCartItems\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (shopCartItems[index].prodId == this.prodId) {\r\n\t\t\t\t\t\t\t\tthis.prodCount = shopCartItems[index].prodCount\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.shopCartItems = shopCartItems\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.calTotalPrice(); //计算总价\r\n\t\t\t\t\t\tif (this.isShowLoading) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.isShowLoading = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.shopCartItems = shopCartItems\r\n\t\t\t\t\t}\r\n\t\t\t\t}, (rej) => {\r\n\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 删除购物车商品\r\n\t\t\t */\r\n\t\t\tonDelBasket: function() {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar shopCartItems = this.shopCartItems;\r\n\t\t\t\tvar basketIds = [];\r\n\t\t\t\tfor (var i = 0; i < shopCartItems.length; i++) {\r\n\t\t\t\t\tbasketIds.push(shopCartItems[i].basketId);\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tcontent: '确认要删除所有的商品吗？',\r\n\t\t\t\t\tconfirmColor: \"#eb2444\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tif (!self.isShowLoading) {\r\n\t\t\t\t\t\t\t\tuni.showLoading();\r\n\t\t\t\t\t\t\t\tself.isShowLoading = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.$request.delete(\"/p/shopCart/deleteItem\", basketIds).then((res) => {\r\n\t\t\t\t\t\t\t\tif (self.isShowLoading) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tself.isShowLoading = false;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tself.closeOrders();\r\n\t\t\t\t\t\t\t\tself.getBasketInfo();\r\n\t\t\t\t\t\t\t\tself.setData({\r\n\t\t\t\t\t\t\t\t\tprodCount: 0,\r\n\t\t\t\t\t\t\t\t\tshowBasketIcon: true\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, (rej) => {\r\n\t\t\t\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 计算购物车总额\r\n\t\t\t */\r\n\t\t\tcalTotalPrice: function() {\r\n\t\t\t\tvar shopCartItems = this.shopCartItems;\r\n\t\t\t\tvar shopCartIds = [];\r\n\t\t\t\tfor (var i = 0; i < shopCartItems.length; i++) {\r\n\t\t\t\t\tshopCartIds.push(shopCartItems[i].basketId);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request.post(\"/p/shopCart/totalPay/\" + this.shopId, shopCartIds).then((res) => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tfinalMoney: res.finalMoney,\r\n\t\t\t\t\t\ttotalMoney: res.totalMoney,\r\n\t\t\t\t\t\tsubtractMoney: res.subtractMoney,\r\n\t\t\t\t\t\tstartPrice: res.startPrice || res.startPrice == 0 ? res.startPrice : 48\r\n\t\t\t\t\t});\r\n\t\t\t\t}, (rej) => {\r\n\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tchangeShowBuynowPop() {\r\n\t\t\t\tif (this.$store.state.ifOutSide) {\r\n\t\t\t\t\tthis.$showToast('购买产品请前往微信公众号 \"小象智慧门店美食商城\"', null, 2000)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tshowBuynowPop: !this.showBuynowPop\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 开关优惠券弹窗\r\n\t\t\tshowCouponPop: function() {\r\n\t\t\t\tvar animation = uni.createAnimation({\r\n\t\t\t\t\tduration: 400,\r\n\t\t\t\t\ttimingFunction: 'ease-in-out'\r\n\t\t\t\t});\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcouponPopAnimation: animation.translateY(1000).step().export()\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tshowCoupons: true,\r\n\t\t\t\t\t\tcouponPopAnimation: animation.translateY(0).step().export()\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 10);\r\n\t\t\t},\r\n\t\t\tcloseCouponPop: function() {\r\n\t\t\t\tvar animation = uni.createAnimation({\r\n\t\t\t\t\tduration: 300,\r\n\t\t\t\t\ttimingFunction: \"ease-in-out\"\r\n\t\t\t\t});\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcouponPopAnimation: animation.translateY(1000).step().export()\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tshowCoupons: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 300);\r\n\t\t\t},\r\n\t\t\t// 进店\r\n\t\t\tenterShop: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../category/category\"\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//获取店铺商品列表\r\n\t\t\tgetShopProdsInfo: function(url = '/shop/shop/prodInfo/') {\r\n\t\t\t\tthis.$request.get(url + this.shopId, ).then((res) => {\r\n\t\t\t\t\tlet list = res.slice(0, 3);\r\n\t\t\t\t\tthis.prodsList = list\r\n\t\t\t\t}, (rej) => {\r\n\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 展开购物车弹窗\r\n\t\t\topenBasketPop: function() {\r\n\t\t\t\tif (!this.popupShow) {\r\n\t\t\t\t\tvar basketAnimation = uni.createAnimation({\r\n\t\t\t\t\t\tduration: 400,\r\n\t\t\t\t\t\ttimingFunction: 'ease-in-out'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.getBasketInfo();\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tpopupShow: true,\r\n\t\t\t\t\t\tbasketAnimation: basketAnimation.translateY(1000).step().export()\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tbasketAnimation: basketAnimation.translateY(0).step().export()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.hideBasket();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 关闭购物车弹窗\r\n\t\t\thideBasket: function() {\r\n\t\t\t\tvar basketAnimation = uni.createAnimation({\r\n\t\t\t\t\tduration: 300,\r\n\t\t\t\t\ttimingFunction: 'ease-in-out'\r\n\t\t\t\t});\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tbasketAnimation: basketAnimation.translateY(1000).step().export()\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tpopupShow: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 300);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 授权获取手机号\r\n\t\t\t */\r\n\t\t\tgetPhoneNumber: function(e) {\r\n\t\t\t\tconsole.log('getphone Number running')\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar number = uni.getStorageSync('phoneNumber');\r\n\t\t\t\tif (number == null || number == undefined || number == '') {\r\n\t\t\t\t\tif (e.detail.errMsg == \"getPhoneNumber:ok\") {\r\n\t\t\t\t\t\t//同意授权手机号\r\n\t\t\t\t\t\t//请求后台解密\r\n\t\t\t\t\t\tthis.$request.get(\"/p/user/getPhoneNumber\", {\r\n\t\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\r\n\t\t\t\t\t\t\tiv: e.detail.iv\r\n\t\t\t\t\t\t}, ).then((res) => {\r\n\t\t\t\t\t\t\tif (res != undefined && res != null) {\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('phoneNumber', res);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, (rej) => {\r\n\t\t\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.toFirmOrder();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 去结算\r\n\t\t\t */\r\n\t\t\ttoFirmOrder: function() {\r\n\t\t\t\tif (this.finalMoney < this.startPrice) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar shopCartItems = this.shopCartItems;\r\n\t\t\t\tvar basketIds = [];\r\n\t\t\t\tshopCartItems.forEach(shopCartItem => {\r\n\t\t\t\t\tbasketIds.push(shopCartItem.basketId);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!basketIds.length) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择商品',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.setStorageSync(\"basketIds\", JSON.stringify(basketIds));\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/submit-order/submit-order?orderEntry=0&tjr=' + this.tjr\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获取优惠券信息\r\n\t\t\tgetCouponList: function() {\r\n\t\t\t\tthis.$request.get('/coupon/coupon/info/', {\r\n\t\t\t\t\tprodId: this.prodId,\r\n\t\t\t\t\tshopId: this.shopId\r\n\t\t\t\t}).then((couponList) => {\r\n\t\t\t\t\tfor (let i = 0; i < couponList.length; i++) {\r\n\t\t\t\t\t\tcouponList[i].showStartTime = couponList[i].startTime.split('-').join('.');\r\n\t\t\t\t\t\tcouponList[i].showEndTime = couponList[i].endTime.split('-').join('.');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.couponList = couponList\r\n\t\t\t\t}, (rej) => {\r\n\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//领取优惠券\r\n\t\t\thandleReceive: function(e) {\r\n\t\t\t\tvar coupon = this.couponList[e.currentTarget.dataset.index];\r\n\t\t\t\tif (coupon.useState == null) {\r\n\t\t\t\t\tthis.$request.post('/couponRecord/couponRecord', {\r\n\t\t\t\t\t\t...coupon,\r\n\t\t\t\t\t\tstate: 1,\r\n\t\t\t\t\t\tshopId: this.shopId\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t\tthis.$showToast('领取成功')\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$showToast('领取失败')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, (rej) => {\r\n\t\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tenterProdFromGuess: function(e) {\r\n\t\t\t\tvar prodId = e.currentTarget.dataset.prodid;\r\n\t\t\t\tif (prodId) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/prod/prod?prodid=' + prodId\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//页面跳转\r\n\t\t\tgoback: function() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgohome: function() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '../category/category'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tbuyNow: function(e) {\r\n\t\t\t\tif (this.$store.state.ifOutSide) {\r\n\t\t\t\t\tthis.$showToast('购买产品请前往微信公众号 \"小象智慧门店美食商城\"', null, 2000)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet submitType = e.currentTarget.dataset.submittype;\r\n\t\t\t\tconsole.log(submitType);\r\n\r\n\t\t\t\tif (this.isGroupPeople != 1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '你正在拼团中，请不要重复拼团',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.setStorageSync(\"orderItem\", JSON.stringify({\r\n\t\t\t\t\tprodId: this.prodId,\r\n\t\t\t\t\tprodName: this.prodName,\r\n\t\t\t\t\tprodCount: 1,\r\n\t\t\t\t\tgroupbuyPrice: this.groupbuyPrice,\r\n\t\t\t\t\tpic: this.groupbuyPrice,\r\n\t\t\t\t\tshopId: this.shopId,\r\n\t\t\t\t\tskuId: this.skuId,\r\n\t\t\t\t\tpurchaseType: 2\r\n\t\t\t\t}));\r\n\t\t\t\tthis.goGroupbuySybmit(submitType);\r\n\t\t\t},\r\n\r\n\t\t\tgoGroupbuySybmit(submitType) {\r\n\t\t\t\t// console.log(this.data.ptglid || 0)\r\n\t\t\t\t// console.log(submitType)\r\n\t\t\t\tlet url;\r\n\r\n\t\t\t\tif (submitType) {\r\n\t\t\t\t\turl = '/pages/groupbuy-submit/groupbuy-submit?orderEntry=1';\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl = '/pages/groupbuy-submit/groupbuy-submit?orderEntry=1&ptglid=' + (this.ptglid || '');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(url);\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tcloseImage: function() {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tmaskHidden: false\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tgosubmit() {\r\n\t\t\t\tif (this.prodCount == 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请添加购买数量'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.setStorageSync(\"orderItem\", JSON.stringify({\r\n\t\t\t\t\tprodId: this.prodId,\r\n\t\t\t\t\tprodName: this.prodName,\r\n\t\t\t\t\tprodCount: this.prodCount,\r\n\t\t\t\t\tgroupbuyPrice: this.groupbuyPrice,\r\n\t\t\t\t\tpic: this.groupbuyPrice,\r\n\t\t\t\t\tshopId: this.shopId,\r\n\t\t\t\t\tskuId: this.skuList[0].skuId,\r\n\t\t\t\t\tpurchaseType: 1\r\n\t\t\t\t}));\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/submit-order/submit-order?orderEntry=1'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tloadInvitedGroupInfo(ptglid) {\r\n\t\t\t\tthis.$request.get('/makeUpGroup/getPtStatus', {\r\n\t\t\t\t\tptglid\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tgroupInvitedInfo: res\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet ktTime = res.ktTime.replace(/\\-/g, '/');\r\n\t\t\t\t\tlet leftSecond = res.duration * 24 * 60 * 60 * 1000 - (new Date().getTime() - new Date(\r\n\t\t\t\t\t\tktTime));\r\n\t\t\t\t\tconsole.log(leftSecond);\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tleftSecond\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetInterval(() => {\r\n\t\t\t\t\t\tlet leftSecond = this.leftSecond;\r\n\t\t\t\t\t\tlet second = Math.floor(leftSecond / 1000) % 60;\r\n\t\t\t\t\t\tsecond = second == 0 ? '00' : second < 10 ? '0' + second : second;\r\n\t\t\t\t\t\tlet minute = Math.floor(leftSecond / 1000 / 60) % 60;\r\n\t\t\t\t\t\tminute = minute == 0 ? '00' : minute < 10 ? '0' + minute : minute;\r\n\t\t\t\t\t\tlet hour = Math.floor(leftSecond / 1000 / 60 / 60);\r\n\t\t\t\t\t\thour = hour == 0 ? '00' : hour < 10 ? '0' + hour : hour;\r\n\t\t\t\t\t\tconsole.log(hour, minute, second);\r\n\t\t\t\t\t\tconsole.log(\"24:45:45\");\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tleftTime: `${hour}:${minute}:${second}`,\r\n\t\t\t\t\t\t\tleftSecond: leftSecond - 1000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}, (rej) => {\r\n\t\t\t\t\tconsole.log(rej)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t};\r\n</script>\r\n<style>\r\n\t/* pages/newProdDetail/newProdDetail.wxss */\r\n\r\n\t.navibtn {\r\n\t\theight: 46rpx;\r\n\t\twidth: 120rpx;\r\n\t\tborder: 1px solid #FFD6A7;\r\n\t\tborder-radius: 30rpx;\r\n\t\tposition: fixed;\r\n\t\ttop: 108rpx;\r\n\t\tleft: 14rpx;\r\n\t\tz-index: 9999;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.navibtn image {\r\n\t\theight: 30rpx;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\tswiper {\r\n\t\theight: 750rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tswiper image {\r\n\t\theight: 750rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.getposter {\r\n\t\theight: 60rpx;\r\n\t\twidth: 190rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 58rpx;\r\n\t\tvertical-align: middle;\r\n\t\tbackground-color: #D81E06;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 42rpx 0 0 42rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 19%;\r\n\t\tright: 0rpx;\r\n\t\tz-index: 88;\r\n\t}\r\n\r\n\t.getposter image {\r\n\t\twidth: 24rpx;\r\n\t\tmargin-right: 8rpx;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.getposter text {\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.main-prodinfo {\r\n\t\twidth: 94%;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.main-prodinfo .main-prodname {\r\n\t\tcolor: #4B4B4B;\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin: 16rpx 0;\r\n\t}\r\n\r\n\t.monthsale-price-basket {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1px solid #FAFAFA;\r\n\t\tpadding-bottom: 15rpx;\r\n\t}\r\n\r\n\t.monthsale {\r\n\t\tcolor: #BCBCBC;\r\n\t\tfont-size: 24rpx;\r\n\t\theight: 48rpx;\r\n\t\tline-height: 48rpx;\r\n\t}\r\n\r\n\t.monthsale-price-basket .price {\r\n\t\tfont-family: Arial;\r\n\t\tfont-size: 26rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: #eb2444;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.monthsale-price-basket .price .bignum {\r\n\t\tfont-size: 40rpx;\r\n\t}\r\n\r\n\t.buygroup {\r\n\t\theight: 55rpx;\r\n\t\tborder-radius: 28rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tdisplay: flex;\r\n\t\tline-height: 55rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.buygroup .buy-info {\r\n\t\tborder: 1px solid #F13D26;\r\n\t\twidth: 110rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 28rpx 0 0 28rpx;\r\n\t\theight: 55rpx;\r\n\t\tborder-right: 1px solid #f13d26;\r\n\t\tcolor: #F13D26;\r\n\t}\r\n\r\n\t.buygroup .go-buy {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 110rpx;\r\n\t\tbackground-color: #F13D26;\r\n\t\tcolor: #ffffff;\r\n\t\tborder-radius: 0 28rpx 28rpx 0;\r\n\t}\r\n\r\n\t.buygroup-info {\r\n\t\tbackground-color: #FFF5EC;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.buygroup-info .info-title {\r\n\t\theight: 70rpx;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tcolor: #FAAE65;\r\n\t\tborder-bottom: 1px solid #faae65;\r\n\t\tfont-size: 26rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 20rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.buygroup-info .info-title image {\r\n\t\tmargin-right: 12rpx;\r\n\t}\r\n\r\n\t.buygroup-info .info-title view:last-child {\r\n\t\tposition: absolute;\r\n\t\tright: 30rpx;\r\n\t}\r\n\r\n\t.buygroup-info .buygroup-item-content {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.buygroup-info .buygroup-item-content .buygroup-item {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\theight: 80rpx;\r\n\t\talign-items: center;\r\n\t\tcolor: #8F8F8E;\r\n\t\tfont-size: 26rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 30rpx;\r\n\t}\r\n\r\n\t.buygroup-info .buygroup-item-content .buygroup-item .headphoto {\r\n\t\tmargin-right: 12rpx;\r\n\t}\r\n\r\n\t.buygroup-info .buygroup-item-content .buygroup-item .phonenum {\r\n\t\twidth: 30%;\r\n\t}\r\n\r\n\t.buygroup-info .buygroup-item-content .buygroup-item .nickname {\r\n\t\twidth: 45%;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.buygroup-info .buygroup-item-content .buygroup-item .success-info {\r\n\t\twidth: 20%;\r\n\t\tcolor: #FAAE65;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box {\r\n\t\theight: 160rpx;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666666;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box>view {\r\n\t\tmargin: 0 20rpx;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box .head-photo {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #f1f1ff;\r\n\t\tmargin: 0 20rpx;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box .head-photo image {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box .nickname {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666666;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box .invited-groupbuy-info {\r\n\t\tmargin-left: 160rpx;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box .invited-groupbuy-info>view {\r\n\t\tmargin: 12rpx 0;\r\n\t}\r\n\r\n\t.buygroup-info .invite-box .invite-to-groupbuy {\r\n\t\tposition: absolute;\r\n\t\tright: 20rpx;\r\n\t\twidth: 120rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tbackground-color: #F13D26;\r\n\t\tcolor: #ffffff;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 30rpx;\r\n\t}\r\n\r\n\t.buygroup-info image {\r\n\t\twidth: 26rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.buygroup-info .headphoto image {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.couponbar {\r\n\t\theight: 80rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tfont-size: 20rpx;\r\n\t}\r\n\r\n\t.coupons {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.coupons .coupon {\r\n\t\tdisplay: flex;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.coupons .coupon view {\r\n\t\tpadding: 4rpx 10rpx;\r\n\t\tbackground-color: #F13D26;\r\n\t\tcolor: white;\r\n\t\theight: 30rpx;\r\n\t\tline-height: 30rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t}\r\n\r\n\t.coupons .coupon .couponbody {\r\n\t\tborder-right: 1px dashed white;\r\n\t}\r\n\r\n\t.couponbar .getcoupon-btn text {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #A3A3A3;\r\n\t\tpadding-right: 6rpx;\r\n\t}\r\n\r\n\t.couponbar image {\r\n\t\twidth: 12rpx;\r\n\t}\r\n\r\n\t.shopinfo {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 94%;\r\n\t\tfont-size: 26rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t.shoplogo {\r\n\t\twidth: 110rpx;\r\n\t\theight: 110rpx;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid #f5f5f5;\r\n\t}\r\n\r\n\t.shoplogo image {\r\n\t\twidth: 76rpx;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.shopname-attribute {\r\n\t\tmargin-left: 18rpx;\r\n\t}\r\n\r\n\t.shopname-attribute .shopname {\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin-bottom: 12rpx;\r\n\t\tcolor: #424141;\r\n\t}\r\n\r\n\t.shopname-attribute .attributes {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 12rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #B1B1B1;\r\n\t}\r\n\r\n\t.attribute {\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.attribute image {\r\n\t\twidth: 24rpx;\r\n\t\tvertical-align: middle;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.entershop {\r\n\t\theight: 54rpx;\r\n\t\twidth: 120rpx;\r\n\t\tborder: 1px solid #E6E6E6;\r\n\t\tcolor: #A7A7A7;\r\n\t\tborder-radius: 30rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 52rpx;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.separation {\r\n\t\theight: 5px;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #F5F5F5;\r\n\t}\r\n\r\n\t.guesslike {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.guesslike .title {\r\n\t\twidth: 30%;\r\n\t\ttext-align: center;\r\n\t\theight: 70rpx;\r\n\t\tline-height: 70rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tcolor: #6D6D6D;\r\n\t\tfont-size: 32rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t.guesslike .title image {\r\n\t\twidth: 34rpx;\r\n\t\tvertical-align: middle;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.guesslike .title text {\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.guesslike .prods {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tpadding-bottom: 15rpx;\r\n\t}\r\n\r\n\t.guesslike .prods .prod {\r\n\t\twidth: 29%;\r\n\t}\r\n\r\n\t.guesslike .prods .prod .prodimage {\r\n\t\twidth: 100%;\r\n\t\tbox-shadow: 0 0 3px #F5F5F5;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.guesslike .prods .guessprod-prodname {\r\n\t\tfont-size: 24rpx;\r\n\t\tmargin: 0;\r\n\t\tcolor: #666;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\twidth: 160rpx;\r\n\t}\r\n\r\n\t.guesslike .prods .prod image {\r\n\t\twidth: 100%;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.guesslike .prods .prod .guessprod-info {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.guesslike .prods .prod .basketicon {\r\n\t\twidth: 34rpx;\r\n\t\tposition: absolute;\r\n\t\tright: 10rpx;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\r\n\t.guesslike .prods .prod .basketicon .basketimage {\r\n\t\twidth: 34rpx;\r\n\t}\r\n\r\n\t.guesslike .prods .prod .guessprod-info .guessprod-price {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #EC2444;\r\n\t}\r\n\r\n\t/** 评价*/\r\n\r\n\t.cmt-wrap {\r\n\t\tbackground: #fff;\r\n\t\tmargin-top: 20rpx;\r\n\t\tposition: relative;\r\n\t\tline-height: 48rpx;\r\n\t}\r\n\r\n\t.cmt-tit {\r\n\t\tfont-size: 30rpx;\r\n\t\tposition: relative;\r\n\t\tborder-bottom: 1px solid #ddd;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.cmt-t {\r\n\t\twidth: 300rpx;\r\n\t\tcolumns: #666;\r\n\t}\r\n\r\n\t.cmt-good {\r\n\t\tcolor: #eb2444;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.cmt-count {\r\n\t\tposition: absolute;\r\n\t\tright: 20rpx;\r\n\t\ttop: 20rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.cmt-more {\r\n\t\twidth: 14rpx;\r\n\t\theight: 14rpx;\r\n\t\tborder-top: 4rpx solid #ddd;\r\n\t\tborder-right: 4rpx solid #ddd;\r\n\t\ttransform: rotate(45deg);\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.cmt-count .more {\r\n\t\tcolor: #999;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.cmt-cont {\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.cmt-tag {\r\n\t\tposition: relative;\r\n\t\tpadding-top: 20rpx;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.cmt-tag text {\r\n\t\tmargin: 0 17rpx 30rpx 0;\r\n\t\tbackground: #FFEFED;\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 0 16rpx;\r\n\t\theight: 46rpx;\r\n\t\tline-height: 48rpx;\r\n\t\tborder-radius: 3px;\r\n\t\tfont-size: 24rpx;\r\n\t\tvertical-align: middle;\r\n\t\tfont-family: -apple-system, Helvetica, sans-serif;\r\n\t\tcolor: #A0A0A0;\r\n\t}\r\n\r\n\t.cmt-tag text:last-child {\r\n\t\tmargin: 0 0 30rpx 0;\r\n\t}\r\n\r\n\t.cmt-tag text.selected {\r\n\t\tcolor: #fff;\r\n\t\tbackground: #e93b3d;\r\n\t}\r\n\r\n\t.cmt-item {\r\n\t\tposition: relative;\r\n\t\tpadding: 10px 0;\r\n\t}\r\n\r\n\t.cmt-item::after {\r\n\t\tcontent: \"\";\r\n\t\theight: 0;\r\n\t\tdisplay: block;\r\n\t\tborder-bottom: 1px solid #ddd;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tright: -10px;\r\n\t\tborder-bottom-color: #e5e5e5;\r\n\t}\r\n\r\n\t.cmt-user {\r\n\t\tline-height: 25px;\r\n\t\tmargin-bottom: 8px;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.cmt-user-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 400rpx;\r\n\t}\r\n\r\n\t.cmt-user .user-img {\r\n\t\twidth: 25px;\r\n\t\theight: 25px;\r\n\t\tborder-radius: 50%;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.cmt-user .nickname {\r\n\t\tmargin-left: 10px;\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: #333;\r\n\t\tmax-width: 8.2em;\r\n\t\theight: 25px;\r\n\t\tline-height: 27px;\r\n\t}\r\n\r\n\t.cmt-user .stars {\r\n\t\tdisplay: flex;\r\n\t\tmargin-left: 3px;\r\n\t}\r\n\r\n\t.cmt-user .stars image {\r\n\t\twidth: 35rpx;\r\n\t\theight: 35rpx;\r\n\t}\r\n\r\n\t.cmt-user .date {\r\n\t\tfloat: right;\r\n\t\tcolor: #999;\r\n\t\tmargin-left: -60px;\r\n\t}\r\n\r\n\t.cmt-cnt {\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 3;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\tposition: relative;\r\n\t\tline-height: 1.5;\r\n\t\tfont-size: 14px;\r\n\t\tmargin: 5px 0;\r\n\t\tword-break: break-all;\r\n\t\tmax-height: 126px;\r\n\t}\r\n\r\n\t.cmt-attr {\r\n\t\theight: 85px;\r\n\t\twidth: 100%;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.cmt-attr .img-wrap {\r\n\t\twidth: 85px;\r\n\t\theight: 85px;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.cmt-attr image {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t\tmargin-right: 5px;\r\n\t\tmargin-bottom: 5px;\r\n\t\tborder-radius: 2px;\r\n\t\tbackground: #f3f3f3;\r\n\t}\r\n\r\n\t.cmt-more-v {\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #fff;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.cmt-more-v text {\r\n\t\theight: 25px;\r\n\t\tline-height: 25px;\r\n\t\tfont-size: 12px;\r\n\t\ttext-align: center;\r\n\t\tcolor: #333;\r\n\t\tpadding: 0px 10px;\r\n\t\tmargin: 10px 0;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-radius: 40px;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.couponmodule-pop {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 599;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.couponmodule-pop .shadow {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t}\r\n\r\n\t.couponbox-pop {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\theight: 35%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #ffffff;\r\n\t\toverflow: scroll;\r\n\t}\r\n\r\n\t.coupon-pop {\r\n\t\twidth: 98%;\r\n\t\tmargin: 0 auto;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.coupontit-pop {\r\n\t\theight: 70rpx;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #666666;\r\n\t\tline-height: 70rpx;\r\n\t\tpadding-left: 30rpx;\r\n\t\tpadding-top: 15rpx;\r\n\t}\r\n\r\n\t.coupon-pop image {\r\n\t\twidth: 100%;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.coupon-pop .couponinfo-pop {\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\ttop: 22rpx;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 26rpx;\r\n\t\tz-index: 300;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\r\n\t}\r\n\r\n\t.couponinfo-pop .amount {\r\n\t\tcolor: #ffffff;\r\n\t\twidth: 220rpx;\r\n\t\theight: 100%;\r\n\t\tline-height: 200rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.couponinfo-pop .amount :first-child {\r\n\t\t/* color: #ffffff; */\r\n\t\tfont-size: 60rpx;\r\n\t\tpadding-right: 5rpx;\r\n\t\tline-height: 230rpx;\r\n\t}\r\n\r\n\t.couponinfo-pop .getcouponbtn-pop {\r\n\t\theight: 50rpx;\r\n\t\twidth: 100rpx;\r\n\t\tbackground-color: #D81E06;\r\n\t\tcolor: #ffffff;\r\n\t\tline-height: 50rpx;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 30rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 80rpx;\r\n\t\tright: 58rpx;\r\n\t}\r\n\r\n\t.couponinfo-pop .getcouponbtn-pop-gray {\r\n\t\theight: 50rpx;\r\n\t\twidth: 100rpx;\r\n\t\tbackground-color: #CBCBCB;\r\n\t\tcolor: #ffffff;\r\n\t\tline-height: 50rpx;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 30rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 78rpx;\r\n\t\tright: 60rpx;\r\n\t}\r\n\r\n\t.coupon-limit view {\r\n\t\tmargin: 12rpx 0;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.coupon-limit .limt-prodname {\r\n\t\twidth: 80%;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\twidth: 300rpx;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.coupon-limit .limt-time {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.coupon-notice-pop {\r\n\t\t/* position: absolute;\r\n  bottom: 0; */\r\n\t\tcolor: #9F9F9F;\r\n\t\tfont-size: 26rpx;\r\n\t\theight: 160rpx;\r\n\t\tpadding-left: 24rpx;\r\n\t}\r\n\r\n\t.coupon-notice-pop view {\r\n\t\tmargin: 10rpx 0;\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\r\n\t.coupon-notice-tit-pop {\r\n\t\tfont-size: 26rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t}\r\n\r\n\t.coupon-notice-tit-pop {\r\n\t\tcolor: #333333;\r\n\t\tfont: 34rpx;\r\n\t}\r\n\r\n\t.baskettab {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tbackground-color: #000;\r\n\t\tdisplay: flex;\r\n\t\tz-index: 299;\r\n\t}\r\n\r\n\t.baskettab .baskettab-basketicon {\r\n\t\tposition: relative;\r\n\t\tbottom: 70rpx;\r\n\t}\r\n\r\n\t.baskettab .baskettab-basketicon image {\r\n\t\twidth: 140rpx;\r\n\t}\r\n\r\n\t.prods-in-basket {\r\n\t\theight: 40rpx;\r\n\t\twidth: 40rpx;\r\n\t\tbackground-color: #D81E06;\r\n\t\tposition: absolute;\r\n\t\ttop: 2rpx;\r\n\t\tright: 2rpx;\r\n\t\tcolor: #ffffff;\r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 24rpx;\r\n\t\tline-height: 40rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.baskettab .amount {\r\n\t\tcolor: #ffffff;\r\n\r\n\t}\r\n\r\n\t.baskettab .amount .floorAmount {\r\n\t\tfont-size: 28rpx;\r\n\t\tline-height: 120rpx;\r\n\t}\r\n\r\n\t.baskettab .topay {\r\n\t\theight: 100%;\r\n\t\twidth: 250rpx;\r\n\t\tcolor: white;\r\n\t\tbackground-color: #D71E08;\r\n\t\ttext-align: center;\r\n\t\tline-height: 120rpx;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t}\r\n\r\n\t.baskettab .btngray {\r\n\t\tbackground-color: #999;\r\n\t}\r\n\r\n\t.buynow-btn {\r\n\t\tposition: fixed;\r\n\t\tright: 180rpx;\r\n\t\tbottom: 0;\r\n\t\twidth: 180rpx;\r\n\t\theight: 120rpx;\r\n\t\tcolor: #ffffff;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #F99533;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tborder-radius: 0;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.buygroup-btn {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tborder-radius: 0;\r\n\t\tfont-size: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\ttext-align: center;\r\n\t\tcolor: #ffffff;\r\n\t\tposition: fixed;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 180rpx;\r\n\t\theight: 120rpx;\r\n\t\tbackground-color: #FA4D49;\r\n\t}\r\n\r\n\t.buynow-btn>view,\r\n\t.buygroup-btn>view {\r\n\t\theight: 40rpx;\r\n\t\tline-height: 40rpx;\r\n\t}\r\n\r\n\t/** 评价弹窗 */\r\n\r\n\t/* .cmt-popup {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 998;\r\n  background-color: #fff;\r\n  padding-bottom: 98rpx;\r\n}\r\n\r\n.cmt-popup .cmt-cont {\r\n  height: calc(100% - 80rpx);\r\n  overflow: auto;\r\n}\r\n\r\n.cmt-popup .cmt-cnt {\r\n  -webkit-line-clamp: 20;\r\n  max-height: 500px;\r\n}\r\n\r\n.cmt-reply {\r\n  font-size: 14px;\r\n  border-top: 1px dashed #ddd;\r\n  padding: 5px 0;\r\n}\r\n\r\n.cmt-reply .reply-tit {\r\n  color: #eb2444;\r\n}\r\n\r\n.cmt-popup .load-more {\r\n  font-size: 14px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.cmt-popup .load-more text {\r\n  border: 1px solid #ddd;\r\n  padding: 5px 10px;\r\n  border-radius: 10px;\r\n  color: #666;\r\n} */\r\n\r\n\r\n\r\n\t/* 商品详情 */\r\n\t.details {\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\r\n\t.details .details-tit {\r\n\t\ttext-align: center;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tcolor: #535353;\r\n\t\tfont-size: 32rpx;\r\n\t\tmargin: 12rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\r\n\t.details .details-tit .active {\r\n\t\tcolor: #DA2710;\r\n\t\tborder-bottom: 6rpx solid #da2710;\r\n\t\theight: 70rpx;\r\n\t\tline-height: 70rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.details .detail-content {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.details .detail-content image {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.imagePathBox {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 2000;\r\n\t}\r\n\r\n\t.mask {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t}\r\n\r\n\t.shengcheng {\r\n\t\twidth: 80%;\r\n\t\theight: 950rpx;\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\tz-index: 2001;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t}\r\n\r\n\t.baocun {\r\n\t\tdisplay: block;\r\n\t\twidth: 80%;\r\n\t\theight: 80rpx;\r\n\t\tpadding: 0;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tposition: fixed;\r\n\t\tbottom: 110rpx;\r\n\t\tleft: 10%;\r\n\t\tbackground: #FFBF77;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 32rpx;\r\n\t\tborder-radius: 44rpx;\r\n\t}\r\n\r\n\t.shareFriends {\r\n\t\tdisplay: block;\r\n\t\twidth: 80%;\r\n\t\theight: 104rpx;\r\n\t\tpadding: 0;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tposition: fixed;\r\n\t\tbottom: 50rpx;\r\n\t\tleft: 10%;\r\n\t\tbackground: #45be8d;\r\n\t\tcolor: rgb(211, 208, 208);\r\n\t\tfont-size: 32rpx;\r\n\t\tborder-radius: 44rpx;\r\n\t}\r\n\r\n\r\n\tbutton[class=\"baocun\"]::after {\r\n\t\tborder: 0;\r\n\t}\r\n\r\n\t/* 购物车样式 */\r\n\r\n\r\n\t.popup-hide {\r\n\t\tposition: fixed;\r\n\t\t/* top: 0; */\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 99;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t}\r\n\r\n\t.popup-box {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 48%;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding-bottom: 150rpx;\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.popup-tit {\r\n\t\tcolor: #3D3D3D;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tpadding-left: 26rpx;\r\n\t\tbackground-color: #F5F5F5;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.clear-btn {\r\n\t\tdisplay: flex;\r\n\t\tcolor: #999;\r\n\t\tpadding-right: 20rpx;\r\n\t}\r\n\r\n\t.clear-btn image {\r\n\t\twidth: 30rpx;\r\n\t\tvertical-align: super;\r\n\t\tposition: relative;\r\n\t\ttop: 10rpx;\r\n\t\tmargin-right: 5rpx;\r\n\t}\r\n\r\n\t.prod-list {\r\n\t\twidth: 100%;\r\n\t\toverflow: scroll;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\r\n\t.prod-list .item {\r\n\t\tbackground: #fff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 28rpx 20rpx 20rpx;\r\n\t\tborder-bottom: 1px solid #f5f5f5;\r\n\t}\r\n\r\n\t.prod-list .item .prodinfo {\r\n\t\tposition: relative;\r\n\t\tcolor: #999;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/* \r\n.prod-list .item .prodinfo::after {\r\n  content: '';\r\n  background-color: #f4f4f4;\r\n  left: 0;\r\n  height: 1px;\r\n  transform-origin: 50% 100% 0;\r\n  bottom: -20rpx;   \r\n  position: absolute;\r\n  display: block;\r\n  width: 642rpx;\r\n  padding-left: 20rpx;\r\n} */\r\n\r\n\t.prod-list .item:last-child .prodinfo::after {\r\n\t\theight: 0;\r\n\t}\r\n\r\n\t.prod-list .item .staus {\r\n\t\ttext-align: center;\r\n\t\tbackground: rgb(196, 192, 192);\r\n\t\tfont-size: 20rpx;\r\n\t\twidth: 50rpx;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.prodinfo {\r\n\t\tdisplay: flex;\r\n\t\tmargin-left: 20rpx;\r\n\t}\r\n\r\n\t.prod-list .item .opt {\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin-left: 20rpx;\r\n\t\twidth: 100%;\r\n\r\n\t}\r\n\r\n\t.prodinfo .opt .prod-name {\r\n\t\tcolor: #333;\r\n\t\tmax-height: 72rpx;\r\n\t\tline-height: 36rpx;\r\n\t\tdisplay: -webkit-box;\r\n\t\tword-break: break-all;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\r\n\t.prodinfo .opt .prod-info-text {\r\n\t\tcolor: #999;\r\n\t\tdisplay: inline-block;\r\n\t\t-webkit-line-clamp: 1;\r\n\t\theight: 30rpx;\r\n\t\tline-height: 30rpx;\r\n\t\tbackground: #f9f9f9;\r\n\t\tpadding: 0 10rpx 0 10rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t\tmargin: 10rpx 0 0rpx 0;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 24rpx;\r\n\t\tposition: relative;\r\n\t\tfont-family: arial;\r\n\t}\r\n\r\n\t.prodinfo .opt .prod-info-text.empty-n {\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.prod-info-text:before {\r\n\t\tborder-top: 5px solid #aaa;\r\n\t}\r\n\r\n\t.prod-info-text:after {\r\n\t\tborder-top: 5px solid #f9f9f9;\r\n\t\ttop: 9px;\r\n\t}\r\n\r\n\t.prod-list .item .prodinfo .pic {\r\n\t\ttext-align: center;\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tline-height: 120rpx;\r\n\t\tfont-size: 0;\r\n\t}\r\n\r\n\t.prod-list .item .pic image {\r\n\t\tmax-width: 100%;\r\n\t\tmax-height: 100%;\r\n\t\tvertical-align: middle;\r\n\t\tbox-shadow: 0 0 6px #F8F8F8;\r\n\t}\r\n\r\n\t.prodinfo .opt .price-count {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.prodinfo .opt .price-count .price {\r\n\t\tcolor: #eb2444;\r\n\t}\r\n\r\n\t.lose-efficacy .prodinfo .opt .price-count .price {\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t/* 加减框 */\r\n\r\n\t.m-numSelector .minus,\r\n\t.m-numSelector input,\r\n\t.m-numSelector .plus {\r\n\t\tfloat: left;\r\n\t\tbox-sizing: border-box;\r\n\t\theight: 56rpx;\r\n\t}\r\n\r\n\t.m-numSelector {\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t.m-numSelector image {\r\n\t\twidth: 40rpx;\r\n\t\tposition: relative;\r\n\t\ttop: 9rpx;\r\n\t\tleft: 9rpx;\r\n\t}\r\n\r\n\t.m-numSelector .minus,\r\n\t.m-numSelector .plus {\r\n\t\tposition: relative;\r\n\t\twidth: 56rpx;\r\n\t}\r\n\r\n\t.m-numSelector input {\r\n\t\twidth: 56rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.buynow-pop {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 301;\r\n\t}\r\n\r\n\t.buynow-pop .shadow {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: rgba(1, 1, 1, 0.3);\r\n\t\tz-index: 301;\r\n\t}\r\n\r\n\t.buynow-pop .buynow-content {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 3%;\r\n\t\twidth: 100%;\r\n\t\tmargin: 0 auto;\r\n\t\theight: 600rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-top-left-radius: 14rpx;\r\n\t\tborder-top-right-radius: 14rpx;\r\n\t}\r\n\r\n\t.buynow-content .prod-info {\r\n\t\tmargin-top: 20rpx;\r\n\t\theight: 160rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.buynow-content .prod-info .prod-img {\r\n\t\theight: 120rpx;\r\n\t\twidth: 120rpx;\r\n\t\tbackground-color: #f1f1f1;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.buynow-content .prod-info .prod-img image {\r\n\t\theight: 120rpx;\r\n\t\twidth: 120rpx;\r\n\t}\r\n\r\n\t.buynow-content .prod-info .prodname-price {\r\n\t\tcolor: #666666;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.buynow-content .prod-info .prodname-price .prodname {\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.buynow-content .prod-info .prodname-price .pop-price {\r\n\t\tcolor: #FB4C4C;\r\n\t}\r\n\r\n\t.buynow-content .sku-list {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.buynow-content .sku-list .skulist-title {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #555;\r\n\t}\r\n\r\n\t.buynow-content .sku-list .sku-item-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tmargin-top: 22rpx;\r\n\t}\r\n\r\n\t.buynow-content .sku-list .sku-item-content .sku-item {\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tbackground-color: #F4F4F4;\r\n\t\tborder-radius: 30rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.buynow-content .sku-list .sku-item-content .active {\r\n\t\tbackground-color: #fff0ee;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tborder: 1px solid #f13d26;\r\n\t\tcolor: #f13d26;\r\n\t}\r\n\r\n\t.buynow-content .count {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 92%;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: absolute;\r\n\t\tbottom: 150rpx;\r\n\t}\r\n\r\n\t.buynow-content .count .count-box {\r\n\t\tdisplay: flex;\r\n\r\n\t}\r\n\r\n\t.buynow-content .count .count-box view {\r\n\t\theight: 50rpx;\r\n\t\twidth: 50rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #F4F4F4;\r\n\t\tline-height: 50rpx;\r\n\t}\r\n\r\n\t.buynow-content .buynow-confirm {\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\twidth: 92%;\r\n\t\tposition: absolute;\r\n\t\tbottom: 30rpx;\r\n\t\tleft: 4%;\r\n\t\tborder-radius: 40rpx;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #FA4D49;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./groupbuy.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./groupbuy.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1724658848779\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}